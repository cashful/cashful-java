openapi: 3.0.0
info:
  contact:
    email: support@cashful.africa
    name: Support
    url: https://cashful.africa
  description: Developer documentation for the Cashful platform.
  title: Cashful API
  version: 0.7.0
servers:
- description: Live
  url: https://api.cashful.africa
- description: Testing
  url: https://sandbox.api.cashful.africa
- description: Local
  url: http://localhost:9000
paths:
  /api/canary/health:
    get:
      description: Performs a health check on the application and external dependencies
      operationId: checkHealth
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                example:
                  status: ok
                  info:
                    database:
                      status: up
                  error: {}
                  details:
                    database:
                      status: up
          description: Application and all dependencies are healthy
        "503":
          content:
            application/json:
              schema:
                example:
                  status: error
                  error:
                    database:
                      status: down
                      message: Database connection failed
          description: One or more health checks failed
      summary: Health check endpoint
      tags:
      - Health
      x-accepts:
      - application/json
  /api/canary/authentication/sign-up/email:
    post:
      description: Create a new user account using email and password
      operationId: signUpEmail
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SignUpDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SignUpResponseDto"
          description: User created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Sign up with email
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/sign-in/social:
    post:
      description: "Sign in with a social provider (OAuth, etc.)"
      operationId: socialSignIn
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SocialSignInDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SignInResponseDto"
          description: Successfully signed in with social provider
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Sign in with social provider
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/sign-in/email:
    post:
      description: Authenticate a user using email and password
      operationId: signInEmail
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SignInDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SignInResponseDto"
          description: User signed in successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Sign in with email
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/sign-out:
    post:
      description: Sign out the current user and invalidate the session
      operationId: signOut
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SignOutDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SignOutResponseDto"
          description: User signed out successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Sign out
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/get-session:
    get:
      description: Retrieve the current user session
      operationId: getSession
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetSessionResponseDto"
          description: Session retrieved successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get Session
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/token:
    get:
      description: Get a JWT token
      operationId: getJSONWebToken
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetJsonWebTokenResponseDto"
          description: Success
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get a JWT token
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/jwks:
    get:
      description: Get the JSON Web Key Set
      operationId: getJSONWebKeySet
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetJsonWebKeySetResponseDto"
          description: JSON Web Key Set retrieved successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get the JSON Web Key Set
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/forget-password:
    post:
      description: Send a password reset email to the user
      operationId: forgetPassword
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ForgotPasswordDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ForgotPasswordResponseDto"
          description: Password reset email sent
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Forget Password
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/reset-password:
    post:
      description: Reset the user's password using a token
      operationId: resetPassword
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ResetPasswordDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResetPasswordResponseDto"
          description: Password reset successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Reset Password
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/create:
    post:
      description: Create a new organization
      operationId: createOrganization
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateOrganizationDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateOrganizationResponseDto"
          description: Organization created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Create Organization
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/list:
    get:
      description: List all organizations for the current user
      operationId: listOrganizations
      parameters:
      - description: Include additional organization data
        explode: true
        in: query
        name: include
        required: false
        schema:
          example: true
          type: boolean
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/OrganizationDto"
                type: array
          description: Organizations listed successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Organizations
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/organization/get-full-organization:
    get:
      description: Get the full organization details
      operationId: getOrganization
      parameters:
      - description: The organization ID to get
        explode: true
        in: query
        name: organizationId
        required: false
        schema:
          example: org_12345
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetFullOrganizationResponseDto"
          description: Organization retrieved successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get Full Organization
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/organization/get-invitation:
    get:
      description: Get an invitation by ID
      operationId: getInvitation
      parameters:
      - description: The ID of the invitation to get
        explode: true
        in: query
        name: invitationId
        required: true
        schema:
          example: inv_12345
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetInvitationResponseDto"
          description: Invitation retrieved successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get Invitation
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/organization/list-invitations:
    get:
      description: List all invitations a user has received
      operationId: listOrganizationInvitations
      parameters:
      - description: Filter by organization ID
        explode: true
        in: query
        name: organizationId
        required: false
        schema:
          example: org_12345
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListInvitationsResponseDto"
          description: Invitations listed successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Invitations
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/organization/get-active-member:
    get:
      description: Get the member details of the active organization
      operationId: getActiveMember
      parameters:
      - description: Filter by organization ID
        explode: true
        in: query
        name: organizationId
        required: false
        schema:
          example: org_12345
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetActiveMemberResponseDto"
          description: Active member retrieved successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get Active Member
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/organization/check-slug:
    post:
      description: Check if organization slug is available
      operationId: checkSlug
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CheckSlugDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CheckSlugResponseDto"
          description: Slug check completed
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Check Slug
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/leave:
    post:
      description: Leave an organization
      operationId: leaveOrganization
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LeaveOrganizationDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LeaveOrganizationResponseDto"
          description: Left organization successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Leave Organization
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/list-user-invitations:
    get:
      description: List all invitations a user has received
      operationId: listUserInvitations
      parameters:
      - description: Filter by status
        explode: true
        in: query
        name: status
        required: false
        schema:
          example: pending
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListUserInvitationsResponseDto"
          description: User invitations listed successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List User Invitations
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/organization/list-members:
    get:
      description: List all members of an organization
      operationId: listMembers
      parameters:
      - description: Filter by organization ID
        explode: true
        in: query
        name: organizationId
        required: false
        schema:
          example: org_12345
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListMembersResponseDto"
          description: Members listed successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Members
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/organization/get-active-member-role:
    get:
      description: Get the role of the current user in the active organization
      operationId: getActiveMemberRole
      parameters:
      - description: Filter by organization ID
        explode: true
        in: query
        name: organizationId
        required: false
        schema:
          example: org_12345
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetActiveMemberRoleResponseDto"
          description: Active member role retrieved successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get Active Member Role
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/organization/has-permission:
    post:
      description: Check if a user has permission
      operationId: hasPermission
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/HasPermissionDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HasPermissionResponseDto"
          description: Permission check completed
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Has Permission
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/set-active:
    post:
      description: Set the active organization for the current session
      operationId: setActiveOrganization
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SetActiveOrganizationDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SetActiveOrganizationResponseDto"
          description: Active organization set successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Set Active Organization
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/update:
    post:
      description: Update an organization's details
      operationId: updateOrganization
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateOrganizationDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateOrganizationResponseDto"
          description: Organization updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Update Organization
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/delete:
    post:
      description: Delete an organization
      operationId: deleteOrganization
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeleteOrganizationDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteOrganizationResponseDto"
          description: Organization deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Delete Organization
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/invite-member:
    post:
      description: Invite a user to an organization
      operationId: inviteMember
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/InviteMemberDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InviteMemberResponseDto"
          description: Member invited successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Invite Member
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/accept-invitation:
    post:
      description: Accept an invitation to an organization
      operationId: acceptInvitation
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AcceptInvitationDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AcceptInvitationResponseDto"
          description: Invitation accepted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Accept Invitation
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/cancel-invitation:
    post:
      description: Cancel an invitation to an organization
      operationId: cancelInvitation
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CancelInvitationDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CancelInvitationResponseDto"
          description: Invitation cancelled successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Cancel Invitation
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/reject-invitation:
    post:
      description: Reject an invitation to an organization
      operationId: rejectInvitation
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RejectInvitationDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RejectInvitationResponseDto"
          description: Invitation rejected successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Reject Invitation
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/remove-member:
    post:
      description: Remove a member from an organization
      operationId: removeMember
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RemoveMemberDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RemoveMemberResponseDto"
          description: Member removed successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Remove Member
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/organization/update-member-role:
    post:
      description: Update a member's role in an organization
      operationId: updateMemberRole
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateMemberRoleDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateMemberRoleResponseDto"
          description: Member role updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Update Member Role
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/api-key/create:
    post:
      description: Create a new API key
      operationId: createApiKey
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateApiKeyDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateApiKeyResponseDto"
          description: API key created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Create API Key
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/api-key/list:
    get:
      description: List all API keys for the current user
      operationId: listApiKeys
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListApiKeysResponseDto"
          description: API keys listed successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List API Keys
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/api-key/update:
    post:
      description: Update an API key
      operationId: updateApiKey
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateApiKeyDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateApiKeyResponseDto"
          description: API key updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Update API Key
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/api-key/delete:
    post:
      description: Delete an API key
      operationId: deleteApiKey
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeleteApiKeyDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteApiKeyResponseDto"
          description: API key deleted successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Delete API Key
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/api-key/verify:
    post:
      description: Verify an API key
      operationId: verifyApiKey
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VerifyApiKeyDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VerifyApiKeyResponseDto"
          description: API key verified successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Verify API Key
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/api-key/get:
    get:
      description: Retrieve a specific API key by ID
      operationId: getApiKey
      parameters:
      - description: The ID of API key to retrieve
        explode: true
        in: query
        name: id
        required: true
        schema:
          example: key_12345
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetApiKeyResponseDto"
          description: API key retrieved successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get API Key
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/verify-email:
    get:
      description: Verify the email of a user
      operationId: verifyEmail
      parameters:
      - description: The token to verify email
        explode: true
        in: query
        name: token
        required: true
        schema:
          example: verify_token_12345
          type: string
        style: form
      - description: The URL to redirect to after email verification
        explode: true
        in: query
        name: callbackURL
        required: false
        schema:
          example: https://example.com/callback
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VerifyEmailResponseDto"
          description: Email verified successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Verify Email
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/send-verification-email:
    post:
      description: Send a verification email to the user
      operationId: sendVerificationEmail
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendVerificationEmailDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SendVerificationEmailResponseDto"
          description: Verification email sent successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Send Verification Email
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/change-email:
    post:
      description: Change the email address of the current user
      operationId: changeEmail
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChangeEmailDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChangeEmailResponseDto"
          description: Email change request processed successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Change Email
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/change-password:
    post:
      description: Change the password of the current user
      operationId: changePassword
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChangePasswordDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChangePasswordResponseDto"
          description: Password changed successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Change Password
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/update-user:
    post:
      description: Update the current user's information
      operationId: updateUser
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateUserDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateUserResponseDto"
          description: User updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Update User
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/delete-user:
    post:
      description: Delete the current user's account
      operationId: deleteUser
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeleteUserDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteUserResponseDto"
          description: User deletion processed successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Delete User
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/request-password-reset:
    post:
      description: Send a password reset email to the user
      operationId: requestPasswordReset
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestPasswordResetDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RequestPasswordResetResponseDto"
          description: Password reset email sent successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Request Password Reset
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/reset-password/{token}:
    get:
      description: Redirects user to callback URL with token
      operationId: resetPasswordCallback
      parameters:
      - explode: false
        in: path
        name: token
        required: true
        schema:
          type: string
        style: simple
      - description: The URL to redirect user to reset their password
        explode: true
        in: query
        name: callbackURL
        required: true
        schema:
          example: https://example.com/reset-password
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResetPasswordCallbackResponseDto"
          description: Password reset token validated
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Reset Password Callback
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/list-sessions:
    get:
      description: List all active sessions for the user
      operationId: listUserSessions
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListSessionsResponseDto"
          description: Sessions listed successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List User Sessions
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/revoke-session:
    post:
      description: Revoke a specific session
      operationId: revokeSession
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RevokeSessionDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RevokeSessionResponseDto"
          description: Session revoked successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Revoke Session
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/revoke-sessions:
    post:
      description: Revoke all sessions for the current user
      operationId: revokeSessions
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RevokeSessionResponseDto"
          description: All sessions revoked successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Revoke All Sessions
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/revoke-other-sessions:
    post:
      description: Revoke all sessions except the current one
      operationId: revokeOtherSessions
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RevokeSessionResponseDto"
          description: Other sessions revoked successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Revoke Other Sessions
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/ok:
    get:
      description: Check if the authentication API is working
      operationId: ok
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: API is working
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Health Check
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/is-username-available:
    post:
      description: Check if username is available for signup
      operationId: isUsernameAvailable
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/IsUsernameAvailableDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IsUsernameAvailableResponseDto"
          description: Username availability checked
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Check Username Availability
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/link-social:
    post:
      description: Link a social account to existing user
      operationId: linkSocial
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LinkSocialDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LinkSocialResponseDto"
          description: Social account linked successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Link Social Account
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/unlink-account:
    post:
      description: Unlink a social account from user
      operationId: unlinkAccount
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UnlinkAccountDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnlinkAccountResponseDto"
          description: Social account unlinked successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Unlink Social Account
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/list-accounts:
    get:
      description: List all linked social accounts
      operationId: listAccounts
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListAccountsResponseDto"
          description: Linked accounts listed successfully
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Linked Accounts
      tags:
      - Authentication
      x-accepts:
      - application/json
  /api/canary/authentication/refresh-token:
    post:
      description: Refresh authentication token
      operationId: refreshToken
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefreshTokenDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RefreshTokenResponseDto"
          description: Token refreshed successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Refresh Token
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/get-access-token:
    post:
      description: Get current access token
      operationId: getAccessToken
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GetAccessTokenDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetAccessTokenResponseDto"
          description: Access token retrieved successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get Access Token
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/sign-in/phone-number:
    post:
      description: Sign in using phone number and password
      operationId: signInPhoneNumber
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SignInPhoneNumberDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SignInResponseDto"
          description: Signed in with phone number successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Sign in with Phone Number
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/phone-number/send-otp:
    post:
      description: Send one-time password to phone number
      operationId: sendPhoneOTP
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendPhoneOTPDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SendPhoneOTPResponseDto"
          description: OTP sent successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Send OTP to Phone
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/phone-number/verify:
    post:
      description: Verify phone number with OTP code
      operationId: verifyPhoneNumber
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VerifyPhoneNumberDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VerifyPhoneNumberResponseDto"
          description: Phone number verified successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Verify Phone Number
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/phone-number/request-password-reset:
    post:
      description: Request password reset via phone number
      operationId: requestPhonePasswordReset
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestPhonePasswordResetDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RequestPhonePasswordResetResponseDto"
          description: Password reset requested successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Request Password Reset via Phone
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/authentication/phone-number/reset-password:
    post:
      description: Reset password using phone verification
      operationId: resetPhonePassword
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ResetPhonePasswordDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResetPhonePasswordResponseDto"
          description: Password reset successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      summary: Reset Password with Phone
      tags:
      - Authentication
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/checkout/sessions:
    get:
      description: Lists checkout sessions
      operationId: listCheckoutSessions
      parameters:
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          example: 50
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          example: 0
          type: number
        style: form
      - description: The ID of the merchant to filter checkout sessions
        explode: true
        in: query
        name: merchantId
        required: true
        schema:
          type: string
        style: form
      - description: The status to filter checkout sessions
        explode: true
        in: query
        name: status
        required: false
        schema:
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: checkout_sess_123
                  merchantId: merchant_456
                  customerId: customer_789
                  sessionUrl: https://pay.cashful.africa/?op=checkout&sessionId=checkout_sess_123
                  successUrl: https://example.com/success
                  cancelUrl: https://example.com/cancel
                  lineItems:
                  - productId: product_001
                    quantity: 2
                    amount: 5000
                    currency: ZAR
                  - productId: product_002
                    quantity: 1
                    amount: 3000
                    currency: ZAR
                  totalAmount: 13000
                  currency: ZAR
                  mode: payment
                  status: active
                  expiresAt: 2025-01-17T10:30:00.000Z
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                - id: checkout_sess_124
                  merchantId: merchant_456
                  customerId: customer_789
                  sessionUrl: https://pay.cashful.africa/?op=checkout&sessionId=checkout_sess_124
                  successUrl: https://example.com/success
                  cancelUrl: https://example.com/cancel
                  lineItems: []
                  totalAmount: 10000
                  currency: ZAR
                  mode: payin
                  status: active
                  expiresAt: 2025-01-17T10:30:00.000Z
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                  metadata:
                    purpose: wallet_topup
                pagination:
                  limit: 50
                  offset: 0
                  total: 2
              schema:
                $ref: "#/components/schemas/ListCheckoutSessionsResponseDto"
          description: Successfully retrieved checkout sessions
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Checkout Sessions
      tags:
      - Checkouts
      x-accepts:
      - application/json
    post:
      description: "Creates a hosted payment page. Used for: (1) A standard e-commerce\
        \ purchase, or (2) a \"Pay-In\" to fund a CustomerBalance."
      operationId: createCheckoutSession
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateCheckoutSessionDto"
        description: Checkout session details
        required: true
      responses:
        "201":
          content:
            application/json:
              example:
                id: checkout_sess_123
                merchantId: merchant_456
                customerId: customer_789
                sessionUrl: https://pay.cashful.africa/?op=checkout&sessionId=checkout_sess_123
                successUrl: https://example.com/success
                cancelUrl: https://example.com/cancel
                lineItems:
                - productId: product_001
                  quantity: 2
                  amount: 5000
                  currency: ZAR
                - productId: product_002
                  quantity: 1
                  amount: 3000
                  currency: ZAR
                totalAmount: 13000
                currency: ZAR
                mode: payment
                status: active
                expiresAt: 2025-01-17T10:30:00.000Z
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/CheckoutSessionResponseDto"
          description: Checkout session created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Create Hosted Checkout
      tags:
      - Checkouts
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/checkout/sessions/{id}:
    get:
      description: Retrieves details of a specific checkout session
      operationId: retrieveCheckoutSession
      parameters:
      - description: The unique identifier of the checkout session
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              example:
                id: checkout_sess_123
                merchantId: merchant_456
                customerId: customer_789
                sessionUrl: https://pay.cashful.africa/?op=checkout&sessionId=checkout_sess_123
                successUrl: https://example.com/success
                cancelUrl: https://example.com/cancel
                lineItems:
                - productId: product_001
                  quantity: 2
                  amount: 5000
                  currency: ZAR
                - productId: product_002
                  quantity: 1
                  amount: 3000
                  currency: ZAR
                totalAmount: 13000
                currency: ZAR
                mode: payment
                status: active
                expiresAt: 2025-01-17T10:30:00.000Z
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/CheckoutSessionResponseDto"
          description: Successfully retrieved checkout session
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Retrieve Checkout Session
      tags:
      - Checkouts
      x-accepts:
      - application/json
  /api/canary/balance:
    get:
      description: Retrieves the merchant's own master balance (their earnings) available
        for payouts.
      operationId: getMerchantBalance
      parameters:
      - description: "The ID of the merchant whose balance is being requested. If\
          \ omitted, defaults to the authenticated merchant."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                id: balance_merchant_456
                merchantId: merchant_456
                amount: 50000
                currency: ZAR
                available: 50000
                pending: 0
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/MerchantBalanceResponseDto"
          description: Successfully retrieved merchant balance
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get Merchant Balance
      tags:
      - Balance
      x-accepts:
      - application/json
  /api/canary/balance/history:
    get:
      description: "A full ledger of all transactions, fees, and payouts for the merchant's\
        \ master account."
      operationId: getBalanceHistory
      parameters:
      - description: "The ID of the merchant whose balance is being requested. If\
          \ omitted, defaults to the authenticated merchant."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          type: string
        style: form
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          type: number
        style: form
      - description: Filter transactions from this date (ISO 8601 format)
        explode: true
        in: query
        name: startDate
        required: false
        schema:
          type: string
        style: form
      - description: Filter transactions until this date (ISO 8601 format)
        explode: true
        in: query
        name: endDate
        required: false
        schema:
          type: string
        style: form
      - description: "Filter by transaction type (e.g., \"credit\", \"debit\", \"\
          fee\", \"payout\")"
        explode: true
        in: query
        name: transactionType
        required: false
        schema:
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: txn_001
                  merchantId: merchant_456
                  type: credit
                  amount: 10000
                  currency: ZAR
                  description: Checkout session completed
                  relatedEntityId: checkout_789
                  relatedEntityType: CheckoutSession
                  balanceAfter: 50000
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                - id: txn_002
                  merchantId: merchant_456
                  type: fee
                  amount: -500
                  currency: ZAR
                  description: Platform fee
                  relatedEntityId: checkout_789
                  relatedEntityType: CheckoutSession
                  balanceAfter: 49500
                  createdAt: 2025-01-15T10:30:05.000Z
                  updatedAt: 2025-01-15T10:30:05.000Z
                - id: txn_003
                  merchantId: merchant_456
                  type: payout
                  amount: -20000
                  currency: ZAR
                  description: Payout to bank account
                  relatedEntityId: payout_001
                  relatedEntityType: Payout
                  balanceAfter: 29500
                  createdAt: 2025-01-14T15:00:00.000Z
                  updatedAt: 2025-01-14T15:00:00.000Z
                pagination:
                  limit: 50
                  offset: 0
                  total: 150
                  hasMore: true
              schema:
                $ref: "#/components/schemas/BalanceHistoryResponseDto"
          description: Successfully retrieved balance history
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Merchant Balance History
      tags:
      - Balance
      x-accepts:
      - application/json
  /api/canary/customers:
    get:
      description: Retrieves a paginated list of all customers for the merchant.
      operationId: listCustomers
      parameters:
      - description: "The ID of the merchant whose balance is being requested. If\
          \ omitted, defaults to the authenticated merchant."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          type: string
        style: form
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          type: number
        style: form
      - description: Filter by email address
        explode: true
        in: query
        name: email
        required: false
        schema:
          type: string
        style: form
      - description: Search across customer fields
        explode: true
        in: query
        name: search
        required: false
        schema:
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: customer_789
                  merchantId: merchant_456
                  phoneNumber: "+27821234567"
                  email: john.doe@example.com
                  name: John Doe
                  metadata:
                    source: web
                    referralCode: FRIEND123
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                pagination:
                  limit: 50
                  offset: 0
                  total: 150
                  hasMore: true
              schema:
                $ref: "#/components/schemas/ListCustomersResponseDto"
          description: Successfully retrieved customers list
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Customers
      tags:
      - Customers
      x-accepts:
      - application/json
    post:
      description: Creates a new customer object. This also provisions their "cash
        balance" feature (starting at 0).
      operationId: createCustomer
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateCustomerDto"
        description: Customer details
        required: true
      responses:
        "201":
          content:
            application/json:
              example:
                id: customer_789
                merchantId: merchant_456
                phoneNumber: "+27821234567"
                email: john.doe@example.com
                name: John Doe
                metadata:
                  source: web
                  referralCode: FRIEND123
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/CustomerResponseDto"
          description: Customer created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "409":
          description: Customer with this email already exists
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Create Customer
      tags:
      - Customers
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/customers/{id}:
    get:
      description: Gets the details for a single customer.
      operationId: retrieveCustomer
      parameters:
      - description: The unique identifier of the customer
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              example:
                id: customer_789
                merchantId: merchant_456
                phoneNumber: "+27821234567"
                email: john.doe@example.com
                name: John Doe
                metadata:
                  source: web
                  referralCode: FRIEND123
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/CustomerResponseDto"
          description: Successfully retrieved customer details
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Retrieve Customer
      tags:
      - Customers
      x-accepts:
      - application/json
    patch:
      description: "Updates a customer's details (e.g., email, metadata)."
      operationId: updateCustomer
      parameters:
      - description: The unique identifier of the customer
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateCustomerDto"
        description: Customer update details
        required: true
      responses:
        "200":
          content:
            application/json:
              example:
                id: customer_789
                merchantId: merchant_456
                phoneNumber: "+27821234567"
                email: john.doe@example.com
                name: John Doe
                metadata:
                  source: web
                  referralCode: FRIEND123
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/CustomerResponseDto"
          description: Customer updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "409":
          description: Email already in use by another customer
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Update Customer
      tags:
      - Customers
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/customers/{id}/balance:
    get:
      description: Retrieves the real-time balance for a single customer's "cash balance"
        (the "wallet-enabling" feature).
      operationId: getCustomerBalance
      parameters:
      - description: The unique identifier of the customer
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              example:
                id: balance_001
                customerId: customer_789
                amount: 5000
                currency: ZAR
                available: 5000
                pending: 0
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/CustomerBalanceDto"
          description: Successfully retrieved customer's cash balance
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get Customer's Cash Balance
      tags:
      - Customers
      x-accepts:
      - application/json
  /api/canary/customers/{id}/transactions:
    get:
      description: "Provides the full transaction history for a single customer's\
        \ \"cash balance\" (Pay-Ins, Purchases, Transfers)."
      operationId: listCustomerTransactions
      parameters:
      - description: The unique identifier of the customer
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          type: number
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: txn_001
                  customerId: customer_789
                  type: credit
                  amount: 1000
                  currency: ZAR
                  description: Checkout session completed
                  relatedEntityId: checkout_sess_123
                  relatedEntityType: CheckoutSession
                  balanceAfter: 5000
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                - id: txn_002
                  customerId: customer_789
                  type: purchase
                  amount: -50
                  currency: ZAR
                  description: Purchase of Airtime
                  relatedEntityId: purchase_001
                  relatedEntityType: Purchase
                  balanceAfter: 4950
                  createdAt: 2025-01-15T11:00:00.000Z
                  updatedAt: 2025-01-15T11:00:00.000Z
                pagination:
                  limit: 50
                  offset: 0
                  total: 25
                  hasMore: false
              schema:
                $ref: "#/components/schemas/ListCustomerTransactionsResponseDto"
          description: Successfully retrieved customer transactions
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Customer's Cash Transactions
      tags:
      - Customers
      x-accepts:
      - application/json
  /api/canary/customers/{id}/payment-methods:
    get:
      description: "Shows all saved payment methods (cards, etc.) for a single customer."
      operationId: listCustomerPaymentMethods
      parameters:
      - description: The unique identifier of the customer
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          type: number
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: pm_001
                  customerId: customer_789
                  type: card
                  brand: visa
                  last4: "4242"
                  expiryMonth: 12
                  expiryYear: 2025
                  isDefault: true
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                pagination:
                  limit: 50
                  offset: 0
                  total: 1
                  hasMore: false
              schema:
                $ref: "#/components/schemas/ListCustomerPaymentMethodsResponseDto"
          description: Successfully retrieved customer's payment methods
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Customer's Payment Methods
      tags:
      - Customers
      x-accepts:
      - application/json
  /api/canary/events:
    get:
      description: Retrieves a log of all API events for debugging and logging.
      operationId: listEvents
      parameters:
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          example: 50
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          example: 0
          type: number
        style: form
      - description: The ID of the merchant whose events are being requested. This
          parameter is required.
        explode: true
        in: query
        name: merchantId
        required: true
        schema:
          type: string
        style: form
      - description: Filter by event type
        explode: true
        in: query
        name: type
        required: false
        schema:
          type: string
        style: form
      - description: Filter by event status
        explode: true
        in: query
        name: status
        required: false
        schema:
          enum:
          - pending
          - delivered
          - failed
          type: string
        style: form
      - description: Filter by start date
        explode: true
        in: query
        name: startDate
        required: false
        schema:
          type: string
        style: form
      - description: Filter by end date
        explode: true
        in: query
        name: endDate
        required: false
        schema:
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: event_001
                  merchantId: merchant_456
                  webhookEndpointId: wh_endpoint_789
                  type: checkout.session.completed
                  data:
                    sessionId: checkout_sess_123
                    amount: 10000
                    currency: ZAR
                  status: delivered
                  attempts: 1
                  relatedEntityId: checkout_sess_123
                  relatedEntityType: CheckoutSession
                  lastAttemptAt: 2025-01-15T10:30:05.000Z
                  nextRetryAt: null
                  deliveredAt: 2025-01-15T10:30:05.000Z
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:05.000Z
                - id: event_002
                  merchantId: merchant_456
                  webhookEndpointId: wh_endpoint_789
                  type: payment_intent.succeeded
                  data:
                    paymentIntentId: pi_123
                    amount: 5000
                    currency: ZAR
                  status: pending
                  attempts: 0
                  relatedEntityId: pi_123
                  relatedEntityType: PaymentIntent
                  lastAttemptAt: null
                  nextRetryAt: 2025-01-15T10:35:00.000Z
                  deliveredAt: null
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                - id: event_003
                  merchantId: merchant_456
                  webhookEndpointId: wh_endpoint_789
                  type: payout.failed
                  data:
                    payoutId: payout_123
                    error: Insufficient funds
                  status: failed
                  attempts: 3
                  relatedEntityId: payout_123
                  relatedEntityType: Payout
                  lastAttemptAt: 2025-01-15T11:00:00.000Z
                  nextRetryAt: null
                  deliveredAt: null
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T11:00:00.000Z
                pagination:
                  limit: 50
                  offset: 0
                  total: 500
                  hasMore: true
              schema:
                $ref: "#/components/schemas/ListEventsResponseDto"
          description: Successfully retrieved events
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Events
      tags:
      - Events
      x-accepts:
      - application/json
  /api/canary/payment-intents:
    get:
      description: Lists payment intents for a specific merchant with pagination and
        filtering.
      operationId: listPaymentIntents
      parameters:
      - description: "The ID of the merchant. If omitted, defaults to the authenticated\
          \ merchant."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          type: string
        style: form
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          default: 50
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          default: 0
          type: number
        style: form
      - description: Filter by status
        explode: true
        in: query
        name: status
        required: false
        schema:
          enum:
          - initiation
          - requires_payment_method
          - requires_confirmation
          - requires_action
          - processing
          - requires_capture
          - succeeded
          - failed
          - canceled
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: pi_001
                  merchantId: merchant_456
                  customerId: customer_789
                  paymentMethodId: pm_001
                  amount: 5000
                  currency: ZAR
                  description: Subscription payment
                  status: succeeded
                  mode: payment
                  idempotencyKey: idem_abc123
                  metadata:
                    subscriptionId: sub_123
                  expiresAt: 2025-01-16T10:30:00.000Z
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:05.000Z
                  deletedAt: null
                - id: pi_002
                  merchantId: merchant_456
                  customerId: customer_789
                  paymentMethodId: pm_001
                  amount: 10000
                  currency: ZAR
                  description: One-time purchase
                  status: processing
                  mode: payment
                  idempotencyKey: idem_xyz789
                  metadata:
                    orderId: order_456
                  expiresAt: 2025-01-16T14:00:00.000Z
                  createdAt: 2025-01-15T14:00:00.000Z
                  updatedAt: 2025-01-15T14:00:02.000Z
                  deletedAt: null
                pagination:
                  limit: 50
                  offset: 0
                  total: 2
                  hasMore: false
              schema:
                $ref: "#/components/schemas/ListPaymentIntentsResponseDto"
          description: Successfully retrieved payment intents
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Payment Intents
      tags:
      - Payment Intents
      x-accepts:
      - application/json
    post:
      description: "Creates a payment intent for off-session charges. Used for subscriptions,\
        \ recurring billing, or server-to-server payments with saved cards."
      operationId: createPaymentIntent
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreatePaymentIntentDto"
        description: Payment intent details
        required: true
      responses:
        "201":
          content:
            application/json:
              example:
                id: pi_001
                merchantId: merchant_456
                customerId: customer_789
                paymentMethodId: pm_001
                amount: 5000
                currency: ZAR
                description: Subscription payment
                status: requires_action
                mode: payment
                idempotencyKey: idem_abc123
                metadata:
                  subscriptionId: sub_123
                expiresAt: 2025-01-16T10:30:00.000Z
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
                deletedAt: null
              schema:
                $ref: "#/components/schemas/PaymentIntentResponseDto"
          description: Payment intent created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "402":
          description: Payment declined
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Create Payment Intent
      tags:
      - Payment Intents
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/payment-intents/{id}:
    get:
      description: Retrieves the current state of a specific payment intent.
      operationId: retrievePaymentIntent
      parameters:
      - description: The unique identifier of the payment intent
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              example:
                id: pi_001
                merchantId: merchant_456
                customerId: customer_789
                paymentMethodId: pm_001
                amount: 5000
                currency: ZAR
                description: Subscription payment
                status: succeeded
                mode: payment
                idempotencyKey: idem_abc123
                metadata:
                  subscriptionId: sub_123
                expiresAt: 2025-01-16T10:30:00.000Z
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:05.000Z
                deletedAt: null
              schema:
                $ref: "#/components/schemas/PaymentIntentResponseDto"
          description: Successfully retrieved payment intent
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Retrieve Payment Intent
      tags:
      - Payment Intents
      x-accepts:
      - application/json
  /api/canary/payment-intents/{id}/confirm:
    post:
      description: Confirms a payment intent that requires confirmation. This initiates
        the actual payment processing.
      operationId: confirmPaymentIntent
      parameters:
      - description: The unique identifier of the payment intent
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentIntentResponseDto"
          description: Payment intent confirmed and processing
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Confirm Payment Intent
      tags:
      - Payment Intents
      x-accepts:
      - application/json
  /api/canary/payment-intents/{id}/cancel:
    post:
      description: Cancels a payment intent that has not yet succeeded or failed.
      operationId: cancelPaymentIntent
      parameters:
      - description: The unique identifier of the payment intent
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentIntentResponseDto"
          description: Payment intent canceled
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Cancel Payment Intent
      tags:
      - Payment Intents
      x-accepts:
      - application/json
  /api/canary/payment-links:
    get:
      description: Retrieves all payment links created by the merchant.
      operationId: listPaymentLinks
      parameters:
      - description: "The ID of the merchant whose payment links are being requested.\
          \ If omitted, defaults to the authenticated merchant."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          type: string
        style: form
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          type: number
        style: form
      - description: Filter by active status
        explode: true
        in: query
        name: active
        required: false
        schema:
          type: boolean
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: plink_001
                  merchantId: merchant_456
                  url: https://checkout.cashful.africa/plink_001
                  productId: product_001
                  amount: 15000
                  currency: ZAR
                  mode: payment
                  active: true
                  successUrl: https://example.com/success
                  cancelUrl: https://example.com/cancel
                  metadata:
                    campaign: summer_sale
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                  deletedAt: null
                pagination:
                  limit: 50
                  offset: 0
                  total: 15
                  hasMore: false
              schema:
                $ref: "#/components/schemas/ListPaymentLinksResponseDto"
          description: Successfully retrieved payment links
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Payment Links
      tags:
      - Payment Links
      x-accepts:
      - application/json
    post:
      description: "Creates a re-usable hosted link. Can be used for: (1) Selling\
        \ a product, or (2) as a \"Pay-In\" link for a customer."
      operationId: createPaymentLink
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreatePaymentLinkDto"
        description: Payment link details
        required: true
      responses:
        "201":
          content:
            application/json:
              example:
                id: plink_001
                merchantId: merchant_456
                url: https://checkout.cashful.africa/plink_001
                productId: product_001
                amount: 15000
                currency: ZAR
                mode: payment
                active: true
                successUrl: https://example.com/success
                cancelUrl: https://example.com/cancel
                metadata:
                  campaign: summer_sale
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
                deletedAt: null
              schema:
                $ref: "#/components/schemas/PaymentLinkResponseDto"
          description: Payment link created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Create Payment Link
      tags:
      - Payment Links
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/payment-links/{id}:
    get:
      description: Retrieves a single payment link by ID.
      operationId: retrievePaymentLink
      parameters:
      - description: The unique identifier of the payment link
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              example:
                id: plink_001
                merchantId: merchant_456
                url: https://checkout.cashful.africa/plink_001
                productId: product_001
                amount: 15000
                currency: ZAR
                mode: payment
                active: true
                successUrl: https://example.com/success
                cancelUrl: https://example.com/cancel
                metadata:
                  campaign: summer_sale
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
                deletedAt: null
              schema:
                $ref: "#/components/schemas/PaymentLinkResponseDto"
          description: Payment link retrieved successfully
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Retrieve Payment Link
      tags:
      - Payment Links
      x-accepts:
      - application/json
    patch:
      description: "Updates a link's details, most commonly to set active: false."
      operationId: updatePaymentLink
      parameters:
      - description: The unique identifier of the payment link
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdatePaymentLinkDto"
        description: Payment link update details
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                example:
                  id: plink_001
                  merchantId: merchant_456
                  url: https://checkout.cashful.africa/plink_001
                  productId: product_001
                  amount: 15000
                  currency: ZAR
                  mode: payment
                  active: false
                  successUrl: https://example.com/success
                  cancelUrl: https://example.com/cancel
                  metadata:
                    campaign: summer_sale
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T11:45:00.000Z
                  deletedAt: null
          description: Payment link updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Update Payment Link
      tags:
      - Payment Links
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/payment-methods/{id}:
    delete:
      description: Detaches and deletes a saved payment method from a customer.
      operationId: deletePaymentMethod
      parameters:
      - description: The unique identifier of the payment method
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                example:
                  id: pm_001
                  deleted: true
                  deletedAt: 2025-01-15T10:30:00.000Z
          description: Payment method successfully deleted
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Delete Payment Method
      tags:
      - Payment Methods
      x-accepts:
      - application/json
    get:
      description: "Gets the non-sensitive details of a saved card (e.g., brand, last\
        \ 4)."
      operationId: retrievePaymentMethod
      parameters:
      - description: The unique identifier of the payment method
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              example:
                id: pm_001
                customerId: customer_789
                type: card
                provider: iveri
                brand: visa
                last4: "4242"
                expiryMonth: 12
                expiryYear: 2027
                phoneNumber: null
                isDefault: true
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/PaymentMethodResponseDto"
          description: Successfully retrieved payment method details
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Retrieve Payment Method
      tags:
      - Payment Methods
      x-accepts:
      - application/json
  /api/canary/payment-methods:
    get:
      description: Lists saved payment methods for a specific customer.
      operationId: listPaymentMethods
      parameters:
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          example: 50
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          example: 0
          type: number
        style: form
      - description: "The unique identifier of the merchant. If not provided, defaults\
          \ to the authenticated user's active organization."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          type: string
        style: form
      - description: The unique identifier of the customer
        explode: true
        in: query
        name: customerId
        required: false
        schema:
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: pm_001
                  customerId: customer_789
                  type: card
                  provider: iveri
                  brand: visa
                  last4: "4242"
                  expiryMonth: 12
                  expiryYear: 2027
                  phoneNumber: null
                  isDefault: true
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                - id: pm_002
                  customerId: customer_789
                  type: mobile_money
                  provider: mpesa
                  brand: null
                  last4: null
                  expiryMonth: null
                  expiryYear: null
                  phoneNumber: "+27821234567"
                  isDefault: false
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                pagination:
                  limit: 50
                  offset: 0
                  total: 2
                  hasMore: false
              schema:
                $ref: "#/components/schemas/ListPaymentMethodsResponseDto"
          description: Successfully retrieved payment methods list
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Payment Methods
      tags:
      - Payment Methods
      x-accepts:
      - application/json
  /api/canary/products:
    get:
      description: Retrieves all products in the merchant's catalog.
      operationId: listProducts
      parameters:
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          example: 50
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          example: 0
          type: number
        style: form
      - description: "The ID of the merchant whose products are being requested. If\
          \ not provided, the products of the authenticated merchant will be returned."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          type: string
        style: form
      - description: Filter by active status
        explode: true
        in: query
        name: active
        required: false
        schema:
          type: boolean
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: product_001
                  merchantId: merchant_456
                  name: Airtime
                  description: Mobile phone airtime
                  amount: 5000
                  currency: ZAR
                  active: true
                  imageId: file_abc123xyz
                  imageUrl: https://my-bucket.s3.af-south-1.amazonaws.com/merchant_123/1736951234567-a1b2c3-airtime.png
                  metadata:
                    category: telecom
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                - id: product_002
                  merchantId: merchant_456
                  name: Data Bundle
                  description: 1GB data bundle
                  amount: 10000
                  currency: ZAR
                  active: true
                  imageId: file_def456uvw
                  imageUrl: https://my-bucket.s3.af-south-1.amazonaws.com/merchant_123/1736951234567-x9y8z7-data-bundle.png
                  metadata:
                    category: telecom
                    size: 1GB
                  createdAt: 2025-01-14T09:20:00.000Z
                  updatedAt: 2025-01-14T09:20:00.000Z
                pagination:
                  limit: 50
                  offset: 0
                  total: 25
                  hasMore: false
              schema:
                $ref: "#/components/schemas/ListProductsResponseDto"
          description: Successfully retrieved products
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Products
      tags:
      - Products
      x-accepts:
      - application/json
    post:
      description: "Defines a product in the merchant's catalog (e.g., \"Airtime,\"\
        \ \"Data\")."
      operationId: createProduct
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateProductDto"
        description: Product details
        required: true
      responses:
        "201":
          content:
            application/json:
              example:
                id: product_001
                merchantId: merchant_456
                name: Airtime
                description: Mobile phone airtime
                amount: 5000
                currency: ZAR
                active: true
                imageId: file_abc123xyz
                imageUrl: https://my-bucket.s3.af-south-1.amazonaws.com/merchant_123/1736951234567-a1b2c3-airtime.png
                metadata:
                  category: telecom
                  provider: vodacom
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/ProductResponseDto"
          description: Product created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Create Product
      tags:
      - Products
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/products/{id}:
    get:
      description: Retrieves a single product by ID.
      operationId: retrieveProduct
      parameters:
      - description: The unique identifier of the product
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              example:
                id: product_001
                merchantId: merchant_456
                name: Airtime
                description: Mobile phone airtime
                amount: 5000
                currency: ZAR
                active: true
                imageId: file_abc123xyz
                imageUrl: https://my-bucket.s3.af-south-1.amazonaws.com/merchant_123/1736951234567-a1b2c3-airtime.png
                metadata:
                  category: telecom
                  provider: vodacom
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/ProductResponseDto"
          description: Successfully retrieved product
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Retrieve Product
      tags:
      - Products
      x-accepts:
      - application/json
    patch:
      description: "Updates a product's name, description, or metadata."
      operationId: updateProduct
      parameters:
      - description: The unique identifier of the product
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateProductDto"
        description: Product update details
        required: true
      responses:
        "200":
          content:
            application/json:
              example:
                id: product_001
                merchantId: merchant_456
                name: Airtime
                description: Mobile phone airtime
                amount: 5000
                currency: ZAR
                active: true
                imageId: file_abc123xyz
                imageUrl: https://my-bucket.s3.af-south-1.amazonaws.com/merchant_123/1736951234567-a1b2c3-airtime.png
                metadata:
                  category: telecom
                  provider: vodacom
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/ProductResponseDto"
          description: Product updated successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Update Product
      tags:
      - Products
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/payouts:
    get:
      description: Retrieves a list of all historical and pending payouts for the
        merchant.
      operationId: listPayouts
      parameters:
      - description: "The ID of the merchant whose payouts are being requested. If\
          \ omitted, defaults to the authenticated merchant."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          type: string
        style: form
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          type: number
        style: form
      - description: Filter by status
        explode: true
        in: query
        name: status
        required: false
        schema:
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: payout_001
                  merchantId: merchant_456
                  amount: 10000
                  currency: ZAR
                  status: pending
                  bankAccount: '****5678'
                  description: Weekly payout
                  metadata: {}
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                - id: payout_001
                  merchantId: merchant_456
                  amount: 10000
                  currency: ZAR
                  status: completed
                  bankAccount: '****5678'
                  description: Weekly payout
                  metadata: {}
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                pagination:
                  limit: 50
                  offset: 0
                  total: 25
                  hasMore: true
              schema:
                $ref: "#/components/schemas/ListPayoutsResponseDto"
          description: Successfully retrieved payouts
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Payouts
      tags:
      - Payouts
      x-accepts:
      - application/json
    post:
      description: Allows the merchant to move funds from their MerchantBalance (their
        earnings) to their external bank account.
      operationId: createPayout
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreatePayoutDto"
        description: Payout details
        required: true
      responses:
        "201":
          content:
            application/json:
              example:
                id: payout_001
                merchantId: merchant_456
                amount: 10000
                currency: ZAR
                status: pending
                bankAccount: '****5678'
                description: Weekly payout
                metadata: {}
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/PayoutResponseDto"
          description: Payout created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "402":
          description: Insufficient merchant balance
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Create Payout
      tags:
      - Payouts
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/transfers:
    get:
      description: Lists transfers for a specific merchant with pagination.
      operationId: listTransfers
      parameters:
      - description: Maximum number of items to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          example: 50
          type: number
        style: form
      - description: Number of items to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          example: 0
          type: number
        style: form
      - description: "Filter by merchant ID. If omitted, defaults to the authenticated\
          \ merchant."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: transfer_001
                  merchantId: merchant_456
                  fromCustomerId: customer_123
                  toCustomerId: customer_789
                  amount: 1000
                  currency: ZAR
                  status: completed
                  description: Payment for services
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                pagination:
                  limit: 50
                  offset: 0
                  total: 1
                  hasMore: false
              schema:
                $ref: "#/components/schemas/ListTransfersResponseDto"
          description: Successfully retrieved transfers
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Transfers
      tags:
      - Transfers
      x-accepts:
      - application/json
    post:
      description: (Wallet-Enabling) Moves funds from one CustomerBalance to another
        CustomerBalance. This is the P2P feature.
      operationId: createTransfer
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateTransferDto"
        description: Transfer details
        required: true
      responses:
        "201":
          content:
            application/json:
              example:
                id: transfer_001
                merchantId: merchant_456
                fromCustomerId: customer_123
                toCustomerId: customer_789
                amount: 1000
                currency: ZAR
                status: completed
                description: Payment for services
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/TransferResponseDto"
          description: Transfer created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "402":
          description: Insufficient sender balance
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Create P2P Transfer
      tags:
      - Transfers
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/purchases:
    post:
      description: (Wallet-Enabling) Spends a product using the CustomerBalance as
        the source. Atomically debits the CustomerBalance and credits the MerchantBalance.
      operationId: createPurchase
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreatePurchaseDto"
        description: Purchase details
        required: true
      responses:
        "201":
          content:
            application/json:
              example:
                id: purchase_001
                merchantId: merchant_456
                customerId: customer_789
                productId: product_001
                amount: 5000
                currency: ZAR
                status: completed
                customerBalanceBefore: 10000
                customerBalanceAfter: 5000
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
              schema:
                $ref: "#/components/schemas/PurchaseResponseDto"
          description: Purchase created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "402":
          description: Insufficient customer balance
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Buy with Cash Balance
      tags:
      - Purchases
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/webhook-endpoints:
    get:
      description: Lists all configured webhook endpoints.
      operationId: listWebhookEndpoints
      parameters:
      - description: "The ID of the merchant whose webhooks are being requested. If\
          \ omitted, defaults to the authenticated merchant."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          type: string
        style: form
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          type: number
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                data:
                - id: webhook_001
                  merchantId: merchant_456
                  url: https://example.com/webhooks
                  events:
                  - checkout.session.completed
                  - purchase.succeeded
                  - transfer.completed
                  active: true
                  metadata:
                    environment: production
                  createdAt: 2025-01-15T10:30:00.000Z
                  updatedAt: 2025-01-15T10:30:00.000Z
                  deletedAt: null
                pagination:
                  limit: 50
                  offset: 0
                  total: 3
                  hasMore: false
              schema:
                $ref: "#/components/schemas/ListWebhookEndpointsResponseDto"
          description: Successfully retrieved webhook endpoints
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List Webhook Endpoints
      tags:
      - Webhooks
      x-accepts:
      - application/json
    post:
      description: "Registers a URL to receive real-time events (e.g., checkout.session.completed,\
        \ purchase.succeeded)."
      operationId: createWebhookEndpoint
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateWebhookEndpointDto"
        description: Webhook endpoint details
        required: true
      responses:
        "201":
          content:
            application/json:
              example:
                id: webhook_001
                merchantId: merchant_456
                url: https://example.com/webhooks
                events:
                - checkout.session.completed
                - purchase.succeeded
                - transfer.completed
                active: true
                metadata:
                  environment: production
                createdAt: 2025-01-15T10:30:00.000Z
                updatedAt: 2025-01-15T10:30:00.000Z
                deletedAt: null
              schema:
                $ref: "#/components/schemas/WebhookEndpointResponseDto"
          description: Webhook endpoint created successfully
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Create Webhook Endpoint
      tags:
      - Webhooks
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/webhook-endpoints/{id}:
    delete:
      description: Stops sending events to a specific URL.
      operationId: deleteWebhookEndpoint
      parameters:
      - description: The unique identifier of the webhook endpoint
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              schema:
                example:
                  id: webhook_001
                  deleted: true
                  deletedAt: 2025-01-15T10:30:00.000Z
          description: Webhook endpoint successfully deleted
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Delete Webhook Endpoint
      tags:
      - Webhooks
      x-accepts:
      - application/json
  /api/canary/analytics:
    get:
      description: Retrieves transaction volume and customer growth metrics for the
        merchant.
      operationId: getAnalytics
      parameters:
      - description: "The unique identifier of the merchant. If not provided, defaults\
          \ to the authenticated user's active organization."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          example: merchant_123
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                transactions:
                  daily:
                    count: 15
                    sum: 150000
                  weekly:
                    count: 120
                    sum: 1200000
                  monthly:
                    count: 450
                    sum: 4500000
                  breakdown:
                  - date: 2025-12-01
                    count: 10
                    sum: 100000
                  - date: 2025-12-02
                    count: 12
                    sum: 120000
                  - date: 2025-12-03
                    count: 8
                    sum: 80000
                newCustomers:
                  daily: 3
                  weekly: 25
                  monthly: 100
                recentTransactions:
                - id: tr_123
                  merchantId: mer_456
                  customerId: cus_789
                  type: purchase
                  amount: 5000
                  currency: ZAR
                  description: Coffee Beans
                  createdAt: 2025-12-17T10:00:00.000Z
                  updatedAt: 2025-12-17T10:00:00.000Z
                  balanceAfter: 5000
                - id: tr_124
                  merchantId: mer_456
                  customerId: cus_790
                  type: pay_in
                  amount: 10000
                  currency: ZAR
                  description: Wallet Top-up
                  createdAt: 2025-12-17T09:30:00.000Z
                  updatedAt: 2025-12-17T09:30:00.000Z
                  balanceAfter: 15000
              schema:
                $ref: "#/components/schemas/AnalyticsResponseDto"
          description: Successfully retrieved analytics
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get Analytics
      tags:
      - Analytics
      x-accepts:
      - application/json
  /api/canary/analytics/summary:
    get:
      description: Retrieves a quick summary of key metrics for the merchant.
      operationId: getAnalyticsSummary
      parameters:
      - description: "The unique identifier of the merchant. If not provided, defaults\
          \ to the authenticated user's active organization."
        explode: true
        in: query
        name: merchantId
        required: false
        schema:
          example: merchant_123
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              example:
                balance: 150000
                customers: 240
                transactions: 1250
                members: 4
              schema:
                $ref: "#/components/schemas/AnalyticsSummaryDto"
          description: Successfully retrieved analytics summary
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get Analytics Summary
      tags:
      - Analytics
      x-accepts:
      - application/json
  /api/canary/compliance:
    get:
      operationId: getCompliance
      parameters:
      - explode: true
        in: query
        name: organizationId
        required: true
        schema:
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrganizationComplianceResponseDto"
          description: ""
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get Compliance info for organization
      tags:
      - Compliance
      x-accepts:
      - application/json
    post:
      operationId: createCompliance
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateOrganizationComplianceDto"
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrganizationComplianceResponseDto"
          description: ""
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Create Compliance info
      tags:
      - Compliance
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/compliance/{id}:
    patch:
      operationId: updateCompliance
      parameters:
      - explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateOrganizationComplianceDto"
        required: true
      responses:
        "200":
          description: Compliance updated
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Update Compliance info
      tags:
      - Compliance
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/notifications/email:
    post:
      operationId: sendEmail
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendEmailDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/sendEmail_200_response"
          description: Email sent successfully
        "400":
          description: Bad request
        "500":
          description: Failed to send email
      summary: Send an email notification
      tags:
      - Notifications
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/notifications/sms:
    post:
      operationId: sendSms
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendSmsDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/sendSms_200_response"
          description: SMS sent successfully
        "400":
          description: Bad request
        "500":
          description: Failed to send SMS
      summary: Send an SMS notification
      tags:
      - Notifications
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/notifications/send:
    post:
      operationId: sendNotification
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NotificationDto"
        required: true
      responses:
        "200":
          description: Notification sent successfully
        "400":
          description: Bad request
        "500":
          description: Failed to send notification
      summary: Send a notification via specified channel
      tags:
      - Notifications
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/notifications/multi-channel:
    post:
      operationId: sendMultiChannelNotification
      parameters: []
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/sendMultiChannelNotification_200_response"
          description: Notifications sent
      summary: Send notifications via multiple channels
      tags:
      - Notifications
      x-accepts:
      - application/json
  /api/canary/storage/upload-url:
    post:
      operationId: StorageController_requestUploadUrl_canary
      parameters: []
      requestBody:
        content:
          application/json:
            examples:
              default:
                summary: Upload a compliance document
                value:
                  filename: iphone-15.png
                  mimeType: image/png
                  isPublic: true
                  tags:
                  - product
                  - image
                  relatedEntityId: product_123
                  relatedEntityType: product
            schema:
              $ref: "#/components/schemas/RequestUploadUrlDto"
        required: true
      responses:
        "201":
          content:
            application/json:
              examples:
                default:
                  summary: Presigned upload URL response
                  value:
                    uploadUrl: https://s3.af-south-1.amazonaws.com/my-bucket/user_123/1736951234567-a1b2c3-identity-document.pdf?X-Amz-Algorithm=...
                    fileId: file_abc123xyz
                    key: user_123/1736951234567-a1b2c3-identity-document.pdf
                    expiresAt: 2026-01-15T15:15:00.000Z
              schema:
                $ref: "#/components/schemas/PresignedUploadResponseDto"
          description: ""
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Request a presigned URL for file upload
      tags:
      - Storage
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/storage/confirm-upload:
    post:
      operationId: StorageController_confirmUpload_canary
      parameters: []
      requestBody:
        content:
          application/json:
            examples:
              default:
                summary: Confirm upload completion
                value:
                  fileId: file_abc123xyz
                  checksum: sha256:a1b2c3d4e5f6...
                  size: 245760
            schema:
              $ref: "#/components/schemas/ConfirmUploadDto"
        required: true
      responses:
        "200":
          content:
            application/json:
              examples:
                default:
                  summary: File metadata after confirmation
                  value:
                    id: file_abc123xyz
                    key: merchant_123/1736951234567-a1b2c3-iphone-15.png
                    bucket: cashful
                    filename: iphone-15.png
                    mimeType: image/png
                    size: 245760
                    tags:
                    - product
                    - image
                    status: uploaded
                    checksum: sha256:a1b2c3d4e5f6...
                    isPublic: true
                    relatedEntityId: product_123
                    relatedEntityType: product
                    uploadedById: user_123
                    createdAt: 2026-01-15T14:00:00.000Z
                    updatedAt: 2026-01-15T14:05:00.000Z
              schema:
                $ref: "#/components/schemas/FileDto"
          description: ""
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Confirm that a file upload was completed
      tags:
      - Storage
      x-content-type: application/json
      x-accepts:
      - application/json
  /api/canary/storage/{id}/download-url:
    get:
      operationId: StorageController_getDownloadUrl_canary
      parameters:
      - description: File ID
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              examples:
                default:
                  summary: Presigned download URL response
                  value:
                    downloadUrl: https://s3.af-south-1.amazonaws.com/my-bucket/user_123/1736951234567-a1b2c3-identity-document.pdf?X-Amz-Algorithm=...
                    expiresAt: 2026-01-15T15:15:00.000Z
              schema:
                $ref: "#/components/schemas/PresignedDownloadResponseDto"
          description: ""
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get a presigned download URL for a file
      tags:
      - Storage
      x-accepts:
      - application/json
  /api/canary/storage:
    get:
      operationId: StorageController_list_canary
      parameters:
      - description: Maximum number of records to return
        explode: true
        in: query
        name: limit
        required: false
        schema:
          example: 50
          type: number
        style: form
      - description: Number of records to skip
        explode: true
        in: query
        name: offset
        required: false
        schema:
          example: 0
          type: number
        style: form
      - description: Filter by tag
        explode: true
        in: query
        name: tag
        required: false
        schema:
          type: string
        style: form
      - explode: true
        in: query
        name: status
        required: false
        schema:
          enum:
          - pending
          - uploaded
          - failed
          - deleted
          type: string
        style: form
      - explode: true
        in: query
        name: relatedEntityId
        required: false
        schema:
          type: string
        style: form
      - explode: true
        in: query
        name: relatedEntityType
        required: false
        schema:
          type: string
        style: form
      responses:
        "200":
          content:
            application/json:
              examples:
                default:
                  summary: Paginated list of files
                  value:
                    data:
                    - id: file_abc123xyz
                      key: user_123/1736951234567-a1b2c3-identity-document.pdf
                      bucket: my-storage-bucket
                      filename: identity-document.pdf
                      mimeType: application/pdf
                      size: 245760
                      tags:
                      - compliance
                      - identity-document
                      status: uploaded
                      isPublic: false
                      relatedEntityId: compliance_info_123
                      relatedEntityType: complianceInfo
                      uploadedById: user_123
                      createdAt: 2026-01-15T14:00:00.000Z
                      updatedAt: 2026-01-15T14:05:00.000Z
                    - id: file_def456uvw
                      key: user_123/1736948234567-x9y8z7-proof-of-address.pdf
                      bucket: my-storage-bucket
                      filename: proof-of-address.pdf
                      mimeType: application/pdf
                      size: 189440
                      tags:
                      - compliance
                      - proof-of-address
                      status: uploaded
                      isPublic: false
                      relatedEntityId: compliance_info_123
                      relatedEntityType: complianceInfo
                      uploadedById: user_123
                      createdAt: 2026-01-15T13:30:00.000Z
                      updatedAt: 2026-01-15T13:35:00.000Z
                    pagination:
                      limit: 20
                      offset: 0
                      total: 2
                      hasMore: false
              schema:
                $ref: "#/components/schemas/ListFilesResponseDto"
          description: ""
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: List files
      tags:
      - Storage
      x-accepts:
      - application/json
  /api/canary/storage/{id}:
    delete:
      operationId: StorageController_delete_canary
      parameters:
      - description: File ID
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          description: ""
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Delete a file
      tags:
      - Storage
      x-accepts:
      - application/json
    get:
      operationId: StorageController_retrieve_canary
      parameters:
      - description: File ID
        explode: false
        in: path
        name: id
        required: true
        schema:
          type: string
        style: simple
      responses:
        "200":
          content:
            application/json:
              examples:
                default:
                  summary: File metadata
                  value:
                    id: file_abc123xyz
                    key: merchant_123/1736951234567-a1b2c3-iphone-15.png
                    bucket: cashful
                    filename: iphone-15.png
                    mimeType: image/png
                    size: 245760
                    tags:
                    - product
                    - image
                    status: uploaded
                    checksum: sha256:a1b2c3d4e5f6...
                    isPublic: true
                    relatedEntityId: product_123
                    relatedEntityType: product
                    uploadedById: user_123
                    createdAt: 2026-01-15T14:00:00.000Z
                    updatedAt: 2026-01-15T14:05:00.000Z
              schema:
                $ref: "#/components/schemas/FileDto"
          description: ""
        "400":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Bad Request - Invalid input
        "401":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Unauthorized
        "404":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Resource not found
        "500":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponseDto"
          description: Internal server error
      security:
      - bearer: []
      summary: Get file details
      tags:
      - Storage
      x-accepts:
      - application/json
components:
  schemas:
    SignUpDto:
      example:
        image: https://example.com/avatar.jpg
        password: StrongPassword123!
        name: John Doe
        callbackURL: https://example.com/auth/callback
        rememberMe: true
        email: john.doe@example.com
      properties:
        name:
          description: The name of the user
          example: John Doe
          type: string
        email:
          description: The email address of the user
          example: john.doe@example.com
          type: string
        password:
          description: The password for the user account
          example: StrongPassword123!
          type: string
        image:
          description: Optional URL to the user's profile image
          example: https://example.com/avatar.jpg
          type: string
        callbackURL:
          description: Optional callback URL after successful sign-up
          example: https://example.com/auth/callback
          type: string
        rememberMe:
          description: Optional flag to indicate if the user should be remembered
          example: true
          type: boolean
      required:
      - email
      - name
      - password
      type: object
    SessionUserDto:
      example:
        emailVerified: true
        createdAt: 2000-01-23T04:56:07.000+00:00
        name: name
        id: id
        email: email
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          type: string
        email:
          type: string
        emailVerified:
          type: boolean
        name:
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
      - createdAt
      - email
      - emailVerified
      - id
      - name
      - updatedAt
      type: object
    SignUpResponseDto:
      example:
        user: ""
        token: token
      properties:
        token:
          description: Authentication token for the session
          type: string
        user:
          allOf:
          - $ref: "#/components/schemas/SessionUserDto"
          description: User object created successfully
      required:
      - user
      type: object
    ErrorResponseDto:
      example:
        message:
        - message
        - message
        error: Bad Request
        statusCode: 400
      properties:
        statusCode:
          description: HTTP status code
          example: 400
          type: number
        message:
          items:
            type: string
          type: array
        error:
          description: Error type
          example: Bad Request
          type: string
      required:
      - error
      - message
      - statusCode
      type: object
    SocialSignInDto:
      example:
        loginHint: user@example.com
        requestSignUp: false
        provider: google
        idToken: "{}"
        errorCallbackURL: https://example.com/auth/error
        callbackURL: https://example.com/auth/callback
        newUserCallbackURL: https://example.com/auth/new-user
        scopes:
        - email
        - profile
        additionalData: additional_data
        disableRedirect: false
      properties:
        provider:
          description: The social provider to sign in with
          example: google
          type: string
        callbackURL:
          description: Callback URL to redirect to after the user has signed in
          example: https://example.com/auth/callback
          type: string
        newUserCallbackURL:
          description: Callback URL for new users
          example: https://example.com/auth/new-user
          type: string
        errorCallbackURL:
          description: Callback URL for errors
          example: https://example.com/auth/error
          type: string
        disableRedirect:
          description: Disable automatic redirection to the provider
          example: false
          type: boolean
        idToken:
          description: ID token from provider
          type: object
        scopes:
          description: Array of scopes to request from the provider
          example:
          - email
          - profile
          items:
            type: string
          type: array
        requestSignUp:
          description: Explicitly request sign-up
          example: false
          type: boolean
        loginHint:
          description: Login hint for the authorization code request
          example: user@example.com
          type: string
        additionalData:
          description: Additional data for the request
          example: additional_data
          type: string
      required:
      - provider
      type: object
    SignInResponseDto:
      example:
        redirect: 0.8008281904610115
        user: ""
        url: url
        token: token
      properties:
        user:
          allOf:
          - $ref: "#/components/schemas/SessionUserDto"
          description: User object
        token:
          description: Session token
          type: string
        redirect:
          description: Whether to redirect
          enum:
          - null
          type: number
        url:
          description: Redirect URL
          type: string
      required:
      - redirect
      - token
      - user
      type: object
    SignInDto:
      example:
        password: StrongPassword123!
        callbackURL: https://example.com/auth/callback
        rememberMe: true
        email: john.doe@example.com
      properties:
        email:
          description: The email address of the user
          example: john.doe@example.com
          type: string
        password:
          description: The password for the user account
          example: StrongPassword123!
          type: string
        callbackURL:
          description: The URL to use for email verification callback
          example: https://example.com/auth/callback
          type: string
        rememberMe:
          description: "If this is false, the session will not be remembered. Default\
            \ is `true`."
          example: true
          type: boolean
      required:
      - email
      - password
      type: object
    SignOutDto:
      properties: {}
      type: object
    SignOutResponseDto:
      example:
        success: false
      properties:
        success:
          description: Sign out successful
          example: false
          type: boolean
      required:
      - success
      type: object
    SessionDto:
      example:
        ipAddress: ipAddress
        userAgent: userAgent
        id: id
        userId: userId
        expiresAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          type: string
        userId:
          type: string
        expiresAt:
          format: date-time
          type: string
        ipAddress:
          type: string
        userAgent:
          type: string
      required:
      - expiresAt
      - id
      - userId
      type: object
    GetSessionResponseDto:
      example:
        session:
          ipAddress: ipAddress
          userAgent: userAgent
          id: id
          userId: userId
          expiresAt: 2000-01-23T04:56:07.000+00:00
        user:
          emailVerified: true
          createdAt: 2000-01-23T04:56:07.000+00:00
          name: name
          id: id
          email: email
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        session:
          $ref: "#/components/schemas/SessionDto"
        user:
          $ref: "#/components/schemas/SessionUserDto"
      required:
      - session
      - user
      type: object
    GetJsonWebTokenResponseDto:
      example:
        token: token
      properties:
        token:
          description: The JWT token
          type: string
      required:
      - token
      type: object
    JwkDto:
      example:
        kty: kty
        e: e
        use: sig
        crv: crv
        kid: kid
        x: x
        "y": "y"
        alg: alg
        "n": "n"
      properties:
        kid:
          description: Key ID uniquely identifying the key
          type: string
        kty:
          description: "Key type (e.g., 'RSA', 'EC', 'OKP')"
          type: string
        alg:
          description: Algorithm intended for use with the key
          type: string
        use:
          description: Intended use of the public key
          enum:
          - sig
          nullable: true
          type: string
        "n":
          description: Modulus for RSA keys
          nullable: true
          type: string
        e:
          description: Exponent for RSA keys
          nullable: true
          type: string
        crv:
          description: Curve name for elliptic curve keys
          nullable: true
          type: string
        x:
          description: X coordinate for elliptic curve keys
          nullable: true
          type: string
        "y":
          description: Y coordinate for elliptic curve keys
          nullable: true
          type: string
      required:
      - alg
      - kid
      - kty
      type: object
    GetJsonWebKeySetResponseDto:
      example:
        keys:
        - kty: kty
          e: e
          use: sig
          crv: crv
          kid: kid
          x: x
          "y": "y"
          alg: alg
          "n": "n"
        - kty: kty
          e: e
          use: sig
          crv: crv
          kid: kid
          x: x
          "y": "y"
          alg: alg
          "n": "n"
      properties:
        keys:
          description: Array of public JSON Web Keys
          items:
            $ref: "#/components/schemas/JwkDto"
          type: array
      required:
      - keys
      type: object
    ForgotPasswordDto:
      example:
        email: john.doe@example.com
      properties:
        email:
          description: The email address of the user
          example: john.doe@example.com
          type: string
      required:
      - email
      type: object
    ForgotPasswordResponseDto:
      example:
        success: false
      properties:
        success:
          description: Password reset email sent
          example: false
          type: boolean
      required:
      - success
      type: object
    ResetPasswordDto:
      example:
        newPassword: NewStrongPassword123!
        token: token_12345
      properties:
        newPassword:
          description: The new password to set
          example: NewStrongPassword123!
          type: string
        token:
          description: The token to reset password
          example: token_12345
          type: string
      required:
      - newPassword
      type: object
    ResetPasswordResponseDto:
      example:
        success: false
      properties:
        success:
          description: Password reset successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    CreateOrganizationDto:
      example:
        metadata:
          plan: pro
        name: Acme Corp
        logo: https://example.com/logo.png
        slug: acme-corp
      properties:
        name:
          description: The name of the organization
          example: Acme Corp
          type: string
        slug:
          description: The slug of the organization
          example: acme-corp
          type: string
        logo:
          description: The logo of the organization
          example: https://example.com/logo.png
          type: string
        metadata:
          description: Metadata for the organization
          example:
            plan: pro
          type: object
      required:
      - name
      - slug
      type: object
    OrganizationDto:
      example:
        createdAt: 2024-01-01T00:00:00Z
        metadata:
          plan: pro
        name: Acme Corp
        logo: https://example.com/logo.png
        id: org_12345
        slug: acme-corp
      properties:
        id:
          description: Organization ID
          example: org_12345
          type: string
        name:
          description: Organization name
          example: Acme Corp
          type: string
        slug:
          description: Organization slug
          example: acme-corp
          type: string
        logo:
          description: Organization logo
          example: https://example.com/logo.png
          type: string
        createdAt:
          description: Organization creation date
          example: 2024-01-01T00:00:00Z
          type: string
        metadata:
          description: Organization metadata
          example:
            plan: pro
          type: object
      required:
      - createdAt
      - id
      - name
      - slug
      type: object
    CreateOrganizationResponseDto:
      example:
        organization:
          id: org_123
          name: Acme Corp
          slug: acme-corp
      properties:
        organization:
          allOf:
          - $ref: "#/components/schemas/OrganizationDto"
          description: Organization created successfully
          example:
            id: org_123
            name: Acme Corp
            slug: acme-corp
      required:
      - organization
      type: object
    GetFullOrganizationResponseDto:
      example:
        organization: ""
      properties:
        organization:
          allOf:
          - $ref: "#/components/schemas/OrganizationDto"
          description: The full organization object
      required:
      - organization
      type: object
    InvitationDto:
      example:
        organizationId: org_12345
        createdAt: 2024-01-01T00:00:00Z
        role: member
        inviterId: user_67890
        id: inv_12345
        email: user@example.com
        expiresAt: 2024-01-01T00:00:00Z
        status: pending
      properties:
        id:
          description: Invitation ID
          example: inv_12345
          type: string
        organizationId:
          description: Organization ID
          example: org_12345
          type: string
        email:
          description: Invited email
          example: user@example.com
          type: string
        role:
          description: Invitation role
          example: member
          type: string
        status:
          description: Invitation status
          example: pending
          type: string
        expiresAt:
          description: Invitation expiration date
          example: 2024-01-01T00:00:00Z
          type: string
        createdAt:
          description: Invitation creation date
          example: 2024-01-01T00:00:00Z
          type: string
        inviterId:
          description: Inviter ID
          example: user_67890
          type: string
      required:
      - createdAt
      - email
      - expiresAt
      - id
      - inviterId
      - organizationId
      - role
      - status
      type: object
    GetInvitationResponseDto:
      example:
        invitation: ""
      properties:
        invitation:
          allOf:
          - $ref: "#/components/schemas/InvitationDto"
          description: Invitation details
      required:
      - invitation
      type: object
    ListInvitationsResponseDto:
      example:
        invitations:
        - organizationId: org_12345
          createdAt: 2024-01-01T00:00:00Z
          role: member
          inviterId: user_67890
          id: inv_12345
          email: user@example.com
          expiresAt: 2024-01-01T00:00:00Z
          status: pending
        - organizationId: org_12345
          createdAt: 2024-01-01T00:00:00Z
          role: member
          inviterId: user_67890
          id: inv_12345
          email: user@example.com
          expiresAt: 2024-01-01T00:00:00Z
          status: pending
      properties:
        invitations:
          description: List of invitations
          items:
            $ref: "#/components/schemas/InvitationDto"
          type: array
      required:
      - invitations
      type: object
    MemberDto:
      example:
        organizationId: org_12345
        createdAt: 2024-01-01T00:00:00Z
        role: member
        id: mem_12345
        userId: user_12345
      properties:
        id:
          description: Member ID
          example: mem_12345
          type: string
        userId:
          description: User ID
          example: user_12345
          type: string
        organizationId:
          description: Organization ID
          example: org_12345
          type: string
        role:
          description: Member role
          example: member
          type: string
        createdAt:
          description: Member creation date
          example: 2024-01-01T00:00:00Z
          type: string
      required:
      - createdAt
      - id
      - organizationId
      - role
      - userId
      type: object
    GetActiveMemberResponseDto:
      example:
        member: ""
      properties:
        member:
          allOf:
          - $ref: "#/components/schemas/MemberDto"
          description: Active member details
      required:
      - member
      type: object
    CheckSlugDto:
      example:
        slug: my-org
      properties:
        slug:
          description: The organization slug to check
          example: my-org
          type: string
      required:
      - slug
      type: object
    CheckSlugResponseDto:
      example:
        available: true
      properties:
        available:
          description: Whether slug is available
          example: true
          type: boolean
      required:
      - available
      type: object
    LeaveOrganizationDto:
      example:
        organizationId: org_12345
      properties:
        organizationId:
          description: The organization ID to leave
          example: org_12345
          type: string
      required:
      - organizationId
      type: object
    LeaveOrganizationResponseDto:
      example:
        success: false
      properties:
        success:
          description: Leave operation result
          example: false
          type: boolean
      required:
      - success
      type: object
    ListUserInvitationsResponseDto:
      example:
        invitations:
        - organizationId: org_12345
          createdAt: 2024-01-01T00:00:00Z
          role: member
          inviterId: user_67890
          id: inv_12345
          email: user@example.com
          expiresAt: 2024-01-01T00:00:00Z
          status: pending
        - organizationId: org_12345
          createdAt: 2024-01-01T00:00:00Z
          role: member
          inviterId: user_67890
          id: inv_12345
          email: user@example.com
          expiresAt: 2024-01-01T00:00:00Z
          status: pending
      properties:
        invitations:
          description: List of user invitations
          items:
            $ref: "#/components/schemas/InvitationDto"
          type: array
      required:
      - invitations
      type: object
    ListMembersResponseDto:
      example:
        members:
        - organizationId: org_12345
          createdAt: 2024-01-01T00:00:00Z
          role: member
          id: mem_12345
          userId: user_12345
        - organizationId: org_12345
          createdAt: 2024-01-01T00:00:00Z
          role: member
          id: mem_12345
          userId: user_12345
      properties:
        members:
          description: List of organization members
          items:
            $ref: "#/components/schemas/MemberDto"
          type: array
      required:
      - members
      type: object
    GetActiveMemberRoleResponseDto:
      example:
        role: "{\"role\":\"admin\"}"
      properties:
        role:
          description: Active member role information
          example: "{\"role\":\"admin\"}"
          type: string
      required:
      - role
      type: object
    HasPermissionDto:
      example:
        organizationId: org_12345
        resource: organization:org_123
        permission: read:users
      properties:
        permission:
          description: The permission to check
          example: read:users
          type: object
        resource:
          description: The resource to check permission on
          example: organization:org_123
          type: string
        organizationId:
          description: The organization ID to check permission in
          example: org_12345
          type: string
      required:
      - permission
      type: object
    HasPermissionResponseDto:
      example:
        hasPermission: true
      properties:
        hasPermission:
          description: Whether user has permission
          example: true
          type: boolean
      required:
      - hasPermission
      type: object
    SetActiveOrganizationDto:
      example:
        organizationId: org_12345
      properties:
        organizationId:
          description: The ID of the organization to set as active
          example: org_12345
          type: string
      required:
      - organizationId
      type: object
    SetActiveOrganizationResponseDto:
      example:
        success: false
      properties:
        success:
          description: Active organization set successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    UpdateOrganizationDto:
      example:
        organizationId: org_12345
        data: "{}"
      properties:
        organizationId:
          description: The ID of the organization to update
          example: org_12345
          type: string
        data:
          description: Data to update
          type: object
      required:
      - data
      - organizationId
      type: object
    UpdateOrganizationResponseDto:
      example:
        organization:
          id: org_123
          name: Updated Corp
      properties:
        organization:
          allOf:
          - $ref: "#/components/schemas/OrganizationDto"
          description: Organization updated successfully
          example:
            id: org_123
            name: Updated Corp
      required:
      - organization
      type: object
    DeleteOrganizationDto:
      example:
        organizationId: org_12345
      properties:
        organizationId:
          description: The ID of the organization to delete
          example: org_12345
          type: string
      required:
      - organizationId
      type: object
    DeleteOrganizationResponseDto:
      example:
        success: false
      properties:
        success:
          description: Organization deleted successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    InviteMemberDto:
      example:
        organizationId: org_12345
        role: member
        email: jane.doe@example.com
      properties:
        email:
          description: The email of the user to invite
          example: jane.doe@example.com
          type: string
        role:
          description: The role to assign to the user
          example: member
          type: string
        organizationId:
          description: The ID of the organization
          example: org_12345
          type: string
      required:
      - email
      - organizationId
      - role
      type: object
    InviteMemberResponseDto:
      example:
        invitation:
          id: inv_123
          email: member@example.com
      properties:
        invitation:
          description: Member invited successfully
          example:
            id: inv_123
            email: member@example.com
          type: object
      required:
      - invitation
      type: object
    AcceptInvitationDto:
      example:
        invitationId: inv_12345
      properties:
        invitationId:
          description: The ID of the invitation to accept
          example: inv_12345
          type: string
      required:
      - invitationId
      type: object
    AcceptInvitationResponseDto:
      example:
        success: false
      properties:
        success:
          description: Invitation accepted successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    CancelInvitationDto:
      example:
        invitationId: inv_12345
      properties:
        invitationId:
          description: The ID of the invitation to cancel
          example: inv_12345
          type: string
      required:
      - invitationId
      type: object
    CancelInvitationResponseDto:
      example:
        success: false
      properties:
        success:
          description: Invitation cancelled successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    RejectInvitationDto:
      example:
        invitationId: inv_12345
      properties:
        invitationId:
          description: The ID of the invitation to reject
          example: inv_12345
          type: string
      required:
      - invitationId
      type: object
    RejectInvitationResponseDto:
      example:
        success: false
      properties:
        success:
          description: Invitation rejected successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    RemoveMemberDto:
      example:
        organizationId: org_12345
        memberId: mem_12345
      properties:
        memberId:
          description: The ID of the member to remove
          example: mem_12345
          type: string
        organizationId:
          description: The ID of the organization
          example: org_12345
          type: string
      required:
      - memberId
      - organizationId
      type: object
    RemoveMemberResponseDto:
      example:
        success: false
      properties:
        success:
          description: Member removed successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    UpdateMemberRoleDto:
      example:
        organizationId: org_12345
        role: admin
        memberId: mem_12345
      properties:
        memberId:
          description: The ID of the member to update
          example: mem_12345
          type: string
        role:
          description: The new role
          example: admin
          type: string
        organizationId:
          description: The ID of the organization
          example: org_12345
          type: string
      required:
      - memberId
      - organizationId
      - role
      type: object
    UpdateMemberRoleResponseDto:
      example:
        success: false
      properties:
        success:
          description: Member role updated successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    CreateApiKeyDto:
      example:
        expiresIn: 3600
        metadata:
          env: production
        prefix: pk_live_
        name: My API Key
      properties:
        name:
          description: The name of the API key
          example: My API Key
          type: string
        expiresIn:
          description: Expiration time in seconds
          example: 3600
          type: number
        prefix:
          description: Prefix for the API key
          example: pk_live_
          type: string
        metadata:
          description: Metadata for the API key
          example:
            env: production
          type: object
      type: object
    ApiKey:
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        name:
          type: string
        prefix:
          type: string
        userId:
          type: string
        enabled:
          type: boolean
        rateLimitEnabled:
          type: boolean
        rateLimitTimeWindow:
          type: number
        rateLimitMax:
          type: number
        requestCount:
          type: number
        remaining:
          type: number
        lastRequest:
          format: date-time
          type: string
        expiresAt:
          format: date-time
          type: string
        metadata:
          type: object
        permissions:
          type: string
      required:
      - createdAt
      - enabled
      - id
      - name
      - prefix
      - rateLimitEnabled
      - rateLimitMax
      - rateLimitTimeWindow
      - remaining
      - requestCount
      - updatedAt
      - userId
      type: object
    CreateApiKeyResponseDto:
      example:
        apiKey:
          id: key_123
          name: My API Key
          prefix: pk_live_
      properties:
        apiKey:
          allOf:
          - $ref: "#/components/schemas/ApiKey"
          description: API key created successfully
          example:
            id: key_123
            name: My API Key
            prefix: pk_live_
      required:
      - apiKey
      type: object
    ListApiKeysResponseDto:
      example:
        apiKeys:
        - id: key_123
          name: My API Key
      properties:
        apiKeys:
          description: List of API keys
          example:
          - id: key_123
            name: My API Key
          items:
            $ref: "#/components/schemas/ApiKey"
          type: array
      required:
      - apiKeys
      type: object
    UpdateApiKeyDto:
      example:
        metadata:
          env: production
        name: My Updated API Key
        keyId: key_12345
        enabled: true
      properties:
        keyId:
          description: The ID of the API key to update
          example: key_12345
          type: string
        name:
          description: The new name of the API key
          example: My Updated API Key
          type: string
        enabled:
          description: Whether the API key is enabled
          example: true
          type: boolean
        metadata:
          description: Metadata for the API key
          example:
            env: production
          type: object
      required:
      - keyId
      type: object
    UpdateApiKeyResponseDto:
      example:
        apiKey:
          id: key_123
          name: Updated API Key
      properties:
        apiKey:
          allOf:
          - $ref: "#/components/schemas/ApiKey"
          description: API key updated successfully
          example:
            id: key_123
            name: Updated API Key
      required:
      - apiKey
      type: object
    DeleteApiKeyDto:
      example:
        keyId: key_12345
      properties:
        keyId:
          description: The ID of the API key to delete
          example: key_12345
          type: string
      required:
      - keyId
      type: object
    DeleteApiKeyResponseDto:
      example:
        success: false
      properties:
        success:
          description: API key deleted successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    VerifyApiKeyDto:
      example:
        key: pk_live_12345...
      properties:
        key:
          description: The API key to verify
          example: pk_live_12345...
          type: string
      required:
      - key
      type: object
    VerifyApiKeyResponseDto:
      example:
        valid: false
        key:
          id: key_123
          name: My API Key
      properties:
        valid:
          description: API key verification result
          example: false
          type: boolean
        key:
          description: API key details (without the actual key)
          example:
            id: key_123
            name: My API Key
          type: object
      required:
      - valid
      type: object
    GetApiKeyResponseDto:
      example:
        apiKey: ""
      properties:
        apiKey:
          allOf:
          - $ref: "#/components/schemas/ApiKey"
          description: API key retrieved successfully
      required:
      - apiKey
      type: object
    VerifyEmailResponseDto:
      example:
        user: ""
        status: true
      properties:
        user:
          allOf:
          - $ref: "#/components/schemas/SessionUserDto"
          description: User object
        status:
          description: Indicates if email was verified successfully
          example: true
          type: boolean
      required:
      - status
      - user
      type: object
    SendVerificationEmailDto:
      example:
        callbackURL: https://example.com/callback
        email: user@example.com
      properties:
        email:
          description: The email to send verification email to
          example: user@example.com
          type: string
        callbackURL:
          description: The URL to use for email verification callback
          example: https://example.com/callback
          type: string
      required:
      - email
      type: object
    SendVerificationEmailResponseDto:
      example:
        status: true
      properties:
        status:
          description: Indicates if email was sent successfully
          example: true
          type: boolean
      required:
      - status
      type: object
    ChangeEmailDto:
      example:
        newEmail: newemail@example.com
        callbackURL: https://example.com/callback
      properties:
        newEmail:
          description: The new email address to set must be a valid email address
          example: newemail@example.com
          type: string
        callbackURL:
          description: The URL to redirect to after email verification
          example: https://example.com/callback
          type: string
      required:
      - newEmail
      type: object
    ChangeEmailResponseDto:
      example:
        message: Email updated
        user: ""
        status: true
      properties:
        status:
          description: Indicates if request was successful
          example: true
          type: boolean
        message:
          description: Status message of email change process
          enum:
          - Email updated
          - Verification email sent
          type: string
        user:
          allOf:
          - $ref: "#/components/schemas/SessionUserDto"
          description: User object
      required:
      - status
      type: object
    ChangePasswordDto:
      example:
        revokeOtherSessions: true
        newPassword: NewStrongPassword123!
        currentPassword: CurrentPassword123!
      properties:
        newPassword:
          description: The new password to set
          example: NewStrongPassword123!
          type: string
        currentPassword:
          description: The current password is required
          example: CurrentPassword123!
          type: string
        revokeOtherSessions:
          description: Must be a boolean value
          example: true
          type: boolean
      required:
      - currentPassword
      - newPassword
      type: object
    ChangePasswordResponseDto:
      example:
        user: ""
        token: new_session_token_12345
      properties:
        token:
          description: New session token if other sessions were revoked
          example: new_session_token_12345
          type: string
        user:
          allOf:
          - $ref: "#/components/schemas/SessionUserDto"
          description: User object
      required:
      - user
      type: object
    UpdateUserDto:
      example:
        image: https://example.com/avatar.jpg
        name: John Doe
      properties:
        name:
          description: The name of user
          example: John Doe
          type: string
        image:
          description: The image of user
          example: https://example.com/avatar.jpg
          type: string
      type: object
    UpdateUserResponseDto:
      example:
        user: ""
      properties:
        user:
          allOf:
          - $ref: "#/components/schemas/SessionUserDto"
          description: Updated user object
      required:
      - user
      type: object
    DeleteUserDto:
      example:
        password: CurrentPassword123!
        callbackURL: https://example.com/goodbye
        token: delete_token_12345
      properties:
        callbackURL:
          description: The callback URL to redirect to after user is deleted
          example: https://example.com/goodbye
          type: string
        password:
          description: The user's password. Required if session is not fresh
          example: CurrentPassword123!
          type: string
        token:
          description: The deletion verification token
          example: delete_token_12345
          type: string
      type: object
    DeleteUserResponseDto:
      example:
        success: true
        message: User deleted
      properties:
        success:
          description: Indicates if operation was successful
          example: true
          type: boolean
        message:
          description: Status message of deletion process
          enum:
          - User deleted
          - Verification email sent
          type: string
      required:
      - message
      - success
      type: object
    RequestPasswordResetDto:
      example:
        redirectTo: https://example.com/reset-password
        email: user@example.com
      properties:
        email:
          description: The email address of user to send a password reset email to
          example: user@example.com
          type: string
        redirectTo:
          description: "The URL to redirect user to reset their password. If token\
            \ isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`.\
            \ If token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN`"
          example: https://example.com/reset-password
          type: string
      required:
      - email
      type: object
    RequestPasswordResetResponseDto:
      example:
        message: Password reset email sent
        status: true
      properties:
        status:
          description: Request status
          example: true
          type: boolean
        message:
          description: Response message
          example: Password reset email sent
          type: string
      required:
      - status
      type: object
    ResetPasswordCallbackResponseDto:
      example:
        token: valid_reset_token_12345
      properties:
        token:
          description: Password reset token
          example: valid_reset_token_12345
          type: string
      required:
      - token
      type: object
    ListSessionsResponseDto:
      example:
        sessions:
        - ipAddress: ipAddress
          userAgent: userAgent
          id: id
          userId: userId
          expiresAt: 2000-01-23T04:56:07.000+00:00
        - ipAddress: ipAddress
          userAgent: userAgent
          id: id
          userId: userId
          expiresAt: 2000-01-23T04:56:07.000+00:00
      properties:
        sessions:
          description: List of user sessions
          items:
            $ref: "#/components/schemas/SessionDto"
          type: array
      required:
      - sessions
      type: object
    RevokeSessionDto:
      example:
        sessionId: session_12345
      properties:
        sessionId:
          description: The session ID to revoke
          example: session_12345
          type: string
      required:
      - sessionId
      type: object
    RevokeSessionResponseDto:
      example:
        success: true
      properties:
        success:
          description: Revocation status
          example: true
          type: boolean
      required:
      - success
      type: object
    IsUsernameAvailableDto:
      example:
        username: johndoe
      properties:
        username:
          description: The username to check availability for
          example: johndoe
          type: string
      required:
      - username
      type: object
    IsUsernameAvailableResponseDto:
      example:
        available: true
      properties:
        available:
          description: Whether username is available
          example: true
          type: boolean
      required:
      - available
      type: object
    LinkSocialDto:
      example:
        provider: google
        idToken: id_token_123
        accessToken: ya29.access_token
        expiresAt: 1640995200
        refreshToken: refresh_token_123
      properties:
        provider:
          description: The social provider to link
          example: google
          type: string
        accessToken:
          description: Access token from provider
          example: ya29.access_token
          type: string
        refreshToken:
          description: Refresh token from provider
          example: refresh_token_123
          type: string
        idToken:
          description: ID token from provider
          example: id_token_123
          type: string
        expiresAt:
          description: Token expiration time
          example: 1640995200
          type: number
      required:
      - provider
      type: object
    LinkSocialResponseDto:
      example:
        success: true
        account: "{}"
      properties:
        success:
          description: Social account linked successfully
          example: true
          type: boolean
        account:
          description: Linked account details
          type: object
      required:
      - success
      type: object
    UnlinkAccountDto:
      example:
        accountId: "123456789"
        provider: google
      properties:
        provider:
          description: The social provider to unlink
          example: google
          type: string
        accountId:
          description: The provider account ID to unlink
          example: "123456789"
          type: string
      required:
      - accountId
      - provider
      type: object
    UnlinkAccountResponseDto:
      example:
        success: true
      properties:
        success:
          description: Social account unlinked successfully
          example: true
          type: boolean
      required:
      - success
      type: object
    ListAccountsResponseDto:
      example:
        accounts:
        - provider: google
          email: user@gmail.com
      properties:
        accounts:
          description: List of linked social accounts
          example:
          - provider: google
            email: user@gmail.com
          items:
            type: object
          type: array
      required:
      - accounts
      type: object
    RefreshTokenDto:
      example:
        rotate: true
        refreshToken: refresh_token_123
      properties:
        refreshToken:
          description: The refresh token
          example: refresh_token_123
          type: string
        rotate:
          description: Whether to rotate the token
          example: true
          type: boolean
      required:
      - refreshToken
      type: object
    RefreshTokenResponseDto:
      example:
        user: ""
        token: new_access_token_123
        refreshToken: new_refresh_token_123
      properties:
        token:
          description: New access token
          example: new_access_token_123
          type: string
        refreshToken:
          description: New refresh token
          example: new_refresh_token_123
          type: string
        user:
          allOf:
          - $ref: "#/components/schemas/SessionUserDto"
          description: User information
      required:
      - token
      - user
      type: object
    GetAccessTokenDto:
      example:
        provider: google
        forceRefresh: false
      properties:
        provider:
          description: The provider to get token for
          example: google
          type: string
        forceRefresh:
          description: Whether to force token refresh
          example: false
          type: boolean
      type: object
    GetAccessTokenResponseDto:
      example:
        expiresAt: 2024-01-01T00:00:00Z
        token: current_access_token_123
      properties:
        token:
          description: Current access token
          example: current_access_token_123
          type: string
        expiresAt:
          description: Token expiration time
          example: 2024-01-01T00:00:00Z
          type: string
      required:
      - token
      type: object
    SignInPhoneNumberDto:
      example:
        password: StrongPassword123!
        phoneNumber: "+1234567890"
        callbackURL: https://example.com/callback
      properties:
        phoneNumber:
          description: The phone number
          example: "+1234567890"
          type: string
        password:
          description: The password for the account
          example: StrongPassword123!
          type: string
        callbackURL:
          description: Callback URL after sign in
          example: https://example.com/callback
          type: string
      required:
      - password
      - phoneNumber
      type: object
    SendPhoneOTPDto:
      example:
        phoneNumber: "+1234567890"
      properties:
        phoneNumber:
          description: The phone number to send OTP to
          example: "+1234567890"
          type: string
      required:
      - phoneNumber
      type: object
    SendPhoneOTPResponseDto:
      example:
        success: true
      properties:
        success:
          description: OTP sent successfully
          example: true
          type: boolean
      required:
      - success
      type: object
    VerifyPhoneNumberDto:
      example:
        phoneNumber: "+1234567890"
        code: "123456"
      properties:
        phoneNumber:
          description: The phone number to verify
          example: "+1234567890"
          type: string
        code:
          description: The OTP code received
          example: "123456"
          type: string
      required:
      - code
      - phoneNumber
      type: object
    VerifyPhoneNumberResponseDto:
      example:
        success: true
        user: ""
      properties:
        success:
          description: Phone verified successfully
          example: true
          type: boolean
        user:
          allOf:
          - $ref: "#/components/schemas/SessionUserDto"
          description: User information if verification successful
      required:
      - success
      type: object
    RequestPhonePasswordResetDto:
      example:
        phoneNumber: "+1234567890"
        callbackURL: https://example.com/reset-password
      properties:
        phoneNumber:
          description: The phone number to send reset to
          example: "+1234567890"
          type: string
        callbackURL:
          description: Callback URL for password reset
          example: https://example.com/reset-password
          type: string
      required:
      - phoneNumber
      type: object
    RequestPhonePasswordResetResponseDto:
      example:
        success: true
      properties:
        success:
          description: Password reset requested successfully
          example: true
          type: boolean
      required:
      - success
      type: object
    ResetPhonePasswordDto:
      example:
        phoneNumber: "+1234567890"
        code: "123456"
        newPassword: NewStrongPassword123!
      properties:
        phoneNumber:
          description: The phone number
          example: "+1234567890"
          type: string
        code:
          description: The OTP code received
          example: "123456"
          type: string
        newPassword:
          description: The new password
          example: NewStrongPassword123!
          type: string
      required:
      - code
      - newPassword
      - phoneNumber
      type: object
    ResetPhonePasswordResponseDto:
      example:
        success: true
      properties:
        success:
          description: Password reset successfully
          example: true
          type: boolean
      required:
      - success
      type: object
    ListUsersResponseDto:
      properties:
        users:
          description: List of users
          example:
          - id: user_123
            email: user@example.com
          items:
            type: object
          type: array
      required:
      - users
      type: object
    BanUserDto:
      properties:
        userId:
          description: The ID of the user to ban
          example: user_12345
          type: string
        banReason:
          description: The reason for the ban
          example: Violation of terms
          type: string
        banExpiresIn:
          description: Ban duration in seconds
          example: 3600
          type: number
      required:
      - userId
      type: object
    BanUserResponseDto:
      properties:
        success:
          description: User banned successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    UnbanUserDto:
      properties:
        userId:
          description: The ID of the user to unban
          example: user_12345
          type: string
      required:
      - userId
      type: object
    UnbanUserResponseDto:
      properties:
        success:
          description: User unbanned successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    SetRoleDto:
      properties:
        userId:
          description: The ID of the user
          example: user_12345
          type: string
        role:
          description: The role to assign
          example: admin
          type: string
      required:
      - role
      - userId
      type: object
    SetRoleResponseDto:
      properties:
        success:
          description: Role set successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    ImpersonateUserDto:
      properties:
        userId:
          description: The ID of the user to impersonate
          example: user_12345
          type: string
      required:
      - userId
      type: object
    ImpersonateUserResponseDto:
      properties:
        success:
          description: User impersonated successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    StopImpersonatingDto:
      properties: {}
      type: object
    StopImpersonatingResponseDto:
      properties:
        success:
          description: Stopped impersonating successfully
          example: false
          type: boolean
      required:
      - success
      type: object
    AdminGetUserDto:
      properties:
        userId:
          description: The ID of the user to get
          example: user_12345
          type: string
      required:
      - userId
      type: object
    AdminGetUserResponseDto:
      properties:
        user:
          allOf:
          - $ref: "#/components/schemas/SessionUserDto"
          description: User details retrieved successfully
      required:
      - user
      type: object
    AdminCreateUserDto:
      properties:
        name:
          description: The name of the user
          example: John Doe
          type: string
        email:
          description: The email address of the user
          example: john.doe@example.com
          type: string
        password:
          description: The password for the user account
          example: StrongPassword123!
          type: string
        role:
          description: Optional role to assign to user
          example: member
          type: string
        emailVerified:
          description: Whether the user should be verified by default
          example: false
          type: boolean
      required:
      - email
      - name
      - password
      type: object
    AdminCreateUserResponseDto:
      properties:
        user:
          allOf:
          - $ref: "#/components/schemas/SessionUserDto"
          description: User created successfully
      required:
      - user
      type: object
    AdminUpdateUserDto:
      properties:
        userId:
          description: The ID of the user to update
          example: user_12345
          type: string
        data:
          description: Data to update
          type: object
      required:
      - data
      - userId
      type: object
    AdminUpdateUserResponseDto:
      properties:
        user:
          allOf:
          - $ref: "#/components/schemas/SessionUserDto"
          description: User updated successfully
      required:
      - user
      type: object
    AdminListUserSessionsDto:
      properties:
        userId:
          description: The ID of the user whose sessions to list
          example: user_12345
          type: string
      required:
      - userId
      type: object
    AdminListUserSessionsResponseDto:
      properties:
        sessions:
          description: User sessions listed successfully
          items:
            $ref: "#/components/schemas/SessionDto"
          type: array
      required:
      - sessions
      type: object
    AdminRevokeUserSessionDto:
      properties:
        userId:
          description: The ID of the user whose session to revoke
          example: user_12345
          type: string
        sessionId:
          description: The ID of the session to revoke
          example: session_12345
          type: string
      required:
      - sessionId
      - userId
      type: object
    AdminRevokeUserSessionResponseDto:
      properties:
        success:
          description: Session revoked successfully
          example: true
          type: boolean
      required:
      - success
      type: object
    AdminRevokeUserSessionsDto:
      properties:
        userId:
          description: The ID of the user whose sessions to revoke
          example: user_12345
          type: string
      required:
      - userId
      type: object
    AdminRevokeUserSessionsResponseDto:
      properties:
        success:
          description: All user sessions revoked successfully
          example: true
          type: boolean
      required:
      - success
      type: object
    AdminRemoveUserDto:
      properties:
        userId:
          description: The ID of the user to remove
          example: user_12345
          type: string
      required:
      - userId
      type: object
    AdminRemoveUserResponseDto:
      properties:
        success:
          description: User removed successfully
          example: true
          type: boolean
      required:
      - success
      type: object
    AdminSetUserPasswordDto:
      properties:
        userId:
          description: The ID of the user whose password to set
          example: user_12345
          type: string
        newPassword:
          description: The new password to set
          example: NewStrongPassword123!
          type: string
      required:
      - newPassword
      - userId
      type: object
    AdminSetUserPasswordResponseDto:
      properties:
        success:
          description: User password set successfully
          example: true
          type: boolean
      required:
      - success
      type: object
    LineItemDto:
      example:
        amount: 6.027456183070403
        quantity: 0.8008281904610115
        productId: productId
        currency: currency
      properties:
        productId:
          description: The unique identifier of the product
          type: string
        quantity:
          description: The quantity of the product
          type: number
        amount:
          description: The amount for this line item in the smallest currency unit
          type: number
        currency:
          description: The three-letter ISO 4217 currency code
          type: string
      required:
      - amount
      - currency
      type: object
    CreateCheckoutSessionDto:
      example:
        lineItems:
        - amount: 6.027456183070403
          quantity: 0.8008281904610115
          productId: productId
          currency: currency
        - amount: 6.027456183070403
          quantity: 0.8008281904610115
          productId: productId
          currency: currency
        mode: mode
        totalAmount: 0.8008281904610115
        cancelUrl: cancelUrl
        metadata:
          orderId: ORD-12345
          source: web
        productId: productId
        merchantId: merchantId
        customerId: customerId
        successUrl: successUrl
        currency: currency
      properties:
        merchantId:
          description: "The ID of the merchant whose balance is being requested. If\
            \ omitted, defaults to the authenticated merchant."
          type: string
        customerId:
          description: The unique identifier of the customer
          type: string
        productId:
          description: The unique identifier of the product
          type: string
        successUrl:
          description: The URL to redirect to on successful payment
          type: string
        cancelUrl:
          description: The URL to redirect to if customer cancels
          type: string
        lineItems:
          description: Array of line items for the checkout
          items:
            $ref: "#/components/schemas/LineItemDto"
          type: array
        totalAmount:
          description: The total amount in the smallest currency unit
          type: number
        currency:
          description: The three-letter ISO 4217 currency code
          type: string
        mode:
          description: "The checkout mode (e.g., 'payment')"
          type: string
        metadata:
          additionalProperties: true
          description: Optional custom metadata
          example:
            orderId: ORD-12345
            source: web
          type: object
      required:
      - cancelUrl
      - currency
      - metadata
      - successUrl
      type: object
    CheckoutSessionResponseDto:
      example:
        metadata:
          orderId: ORD-12345
        successUrl: successUrl
        expiresAt: 2000-01-23T04:56:07.000+00:00
        lineItems:
        - amount: 6.027456183070403
          quantity: 0.8008281904610115
          productId: productId
          currency: currency
        - amount: 6.027456183070403
          quantity: 0.8008281904610115
          productId: productId
          currency: currency
        mode: mode
        createdAt: 2000-01-23T04:56:07.000+00:00
        totalAmount: 1.4658129805029452
        deletedAt: 2000-01-23T04:56:07.000+00:00
        cancelUrl: cancelUrl
        sessionUrl: sessionUrl
        merchantId: merchantId
        customerId: customerId
        currency: currency
        id: id
        updatedAt: 2000-01-23T04:56:07.000+00:00
        status: status
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        merchantId:
          type: string
        customerId:
          type: string
        sessionUrl:
          type: string
        successUrl:
          type: string
        cancelUrl:
          type: string
        lineItems:
          items:
            $ref: "#/components/schemas/LineItemDto"
          type: array
        totalAmount:
          type: number
        currency:
          type: string
        mode:
          type: string
        status:
          type: string
        expiresAt:
          format: date-time
          type: string
        metadata:
          additionalProperties: true
          example:
            orderId: ORD-12345
          type: object
      required:
      - cancelUrl
      - createdAt
      - currency
      - id
      - merchantId
      - metadata
      - sessionUrl
      - status
      - successUrl
      - updatedAt
      type: object
    PaginationResponseDto:
      example:
        total: 150
        offset: 0
        limit: 50
        hasMore: true
      properties:
        limit:
          description: Maximum number of items returned in this response
          example: 50
          type: number
        offset:
          description: Number of items skipped before this response
          example: 0
          type: number
        total:
          description: Total number of items available
          example: 150
          type: number
        hasMore:
          description: Whether there are more items available beyond this response
          example: true
          type: boolean
      required:
      - hasMore
      - limit
      - offset
      - total
      type: object
    ListCheckoutSessionsResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - metadata:
            orderId: ORD-12345
          successUrl: successUrl
          expiresAt: 2000-01-23T04:56:07.000+00:00
          lineItems:
          - amount: 6.027456183070403
            quantity: 0.8008281904610115
            productId: productId
            currency: currency
          - amount: 6.027456183070403
            quantity: 0.8008281904610115
            productId: productId
            currency: currency
          mode: mode
          createdAt: 2000-01-23T04:56:07.000+00:00
          totalAmount: 1.4658129805029452
          deletedAt: 2000-01-23T04:56:07.000+00:00
          cancelUrl: cancelUrl
          sessionUrl: sessionUrl
          merchantId: merchantId
          customerId: customerId
          currency: currency
          id: id
          updatedAt: 2000-01-23T04:56:07.000+00:00
          status: status
        - metadata:
            orderId: ORD-12345
          successUrl: successUrl
          expiresAt: 2000-01-23T04:56:07.000+00:00
          lineItems:
          - amount: 6.027456183070403
            quantity: 0.8008281904610115
            productId: productId
            currency: currency
          - amount: 6.027456183070403
            quantity: 0.8008281904610115
            productId: productId
            currency: currency
          mode: mode
          createdAt: 2000-01-23T04:56:07.000+00:00
          totalAmount: 1.4658129805029452
          deletedAt: 2000-01-23T04:56:07.000+00:00
          cancelUrl: cancelUrl
          sessionUrl: sessionUrl
          merchantId: merchantId
          customerId: customerId
          currency: currency
          id: id
          updatedAt: 2000-01-23T04:56:07.000+00:00
          status: status
      properties:
        data:
          items:
            $ref: "#/components/schemas/CheckoutSessionResponseDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    MerchantBalanceResponseDto:
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        deletedAt: 2000-01-23T04:56:07.000+00:00
        amount: 0.8008281904610115
        merchantId: merchantId
        pending: 1.4658129805029452
        available: 6.027456183070403
        currency: currency
        id: id
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        merchantId:
          type: string
        amount:
          type: number
        currency:
          type: string
        available:
          type: number
        pending:
          type: number
      required:
      - amount
      - available
      - createdAt
      - currency
      - id
      - merchantId
      - pending
      - updatedAt
      type: object
    BalanceTransactionDto:
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        deletedAt: 2000-01-23T04:56:07.000+00:00
        amount: 0.8008281904610115
        merchantId: merchantId
        relatedEntityId: relatedEntityId
        description: description
        currency: currency
        balanceAfter: 6.027456183070403
        id: id
        relatedEntityType: relatedEntityType
        type: type
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        merchantId:
          type: string
        type:
          type: string
        amount:
          type: number
        currency:
          type: string
        description:
          type: string
        relatedEntityId:
          type: string
        relatedEntityType:
          type: string
        balanceAfter:
          type: number
      required:
      - amount
      - createdAt
      - currency
      - description
      - id
      - type
      - updatedAt
      type: object
    BalanceHistoryResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          amount: 0.8008281904610115
          merchantId: merchantId
          relatedEntityId: relatedEntityId
          description: description
          currency: currency
          balanceAfter: 6.027456183070403
          id: id
          relatedEntityType: relatedEntityType
          type: type
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          amount: 0.8008281904610115
          merchantId: merchantId
          relatedEntityId: relatedEntityId
          description: description
          currency: currency
          balanceAfter: 6.027456183070403
          id: id
          relatedEntityType: relatedEntityType
          type: type
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          items:
            $ref: "#/components/schemas/BalanceTransactionDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    CreateBalanceDto:
      properties:
        merchantId:
          description: The ID of the merchant
          example: merchant_123
          type: string
        amount:
          description: The initial balance amount
          example: 1000
          type: number
        currency:
          description: The currency for the balance
          example: ZAR
          type: string
      required:
      - amount
      - currency
      - merchantId
      type: object
    UpdateBalanceDto:
      properties:
        amount:
          description: The amount to adjust the balance by
          example: 5000
          type: number
        currency:
          description: The currency for the balance
          example: ZAR
          type: string
      required:
      - amount
      type: object
    CreateCustomerDto:
      example:
        metadata:
          customField: value
          orderId: "12345"
        phoneNumber: phoneNumber
        merchantId: merchantId
        name: name
        email: email
      properties:
        merchantId:
          description: "The ID of the merchant whose balance is being requested. If\
            \ omitted, defaults to the authenticated merchant."
          type: string
        phoneNumber:
          description: The phone number of the customer
          type: string
        email:
          description: The email address of the customer
          type: string
        name:
          description: The full name of the customer
          type: string
        metadata:
          additionalProperties: true
          description: Optional custom metadata
          example:
            customField: value
            orderId: "12345"
          type: object
      required:
      - metadata
      - phoneNumber
      type: object
    CustomerResponseDto:
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        deletedAt: 2000-01-23T04:56:07.000+00:00
        metadata:
          customField: value
        phoneNumber: phoneNumber
        merchantId: merchantId
        name: name
        id: id
        email: email
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        merchantId:
          type: string
        phoneNumber:
          description: The phone number of the customer
          type: string
        email:
          type: string
        name:
          type: string
        metadata:
          additionalProperties: true
          example:
            customField: value
          type: object
      required:
      - createdAt
      - id
      - merchantId
      - metadata
      - phoneNumber
      - updatedAt
      type: object
    ListCustomersResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          metadata:
            customField: value
          phoneNumber: phoneNumber
          merchantId: merchantId
          name: name
          id: id
          email: email
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          metadata:
            customField: value
          phoneNumber: phoneNumber
          merchantId: merchantId
          name: name
          id: id
          email: email
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          items:
            $ref: "#/components/schemas/CustomerResponseDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    UpdateCustomerDto:
      example:
        metadata:
          customField: value
          orderId: "12345"
        name: name
        email: email
      properties:
        email:
          description: The email address of the customer
          type: string
        name:
          description: The full name of the customer
          type: string
        metadata:
          additionalProperties: true
          description: Optional custom metadata
          example:
            customField: value
            orderId: "12345"
          type: object
      required:
      - metadata
      type: object
    CustomerBalanceDto:
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        deletedAt: 2000-01-23T04:56:07.000+00:00
        amount: 0.8008281904610115
        merchantId: merchantId
        pending: 1.4658129805029452
        customerId: customerId
        available: 6.027456183070403
        currency: currency
        id: id
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        customerId:
          type: string
        merchantId:
          type: string
        amount:
          type: number
        currency:
          type: string
        available:
          type: number
        pending:
          type: number
      required:
      - amount
      - available
      - createdAt
      - currency
      - customerId
      - id
      - pending
      - updatedAt
      type: object
    CustomerTransactionDto:
      example:
        amount: 0.8008281904610115
        description: description
        relatedEntityType: relatedEntityType
        type: type
        createdAt: 2000-01-23T04:56:07.000+00:00
        deletedAt: 2000-01-23T04:56:07.000+00:00
        merchantId: merchantId
        customerId: customerId
        relatedEntityId: relatedEntityId
        currency: currency
        balanceAfter: 6.027456183070403
        id: id
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        customerId:
          type: string
        merchantId:
          type: string
        type:
          type: string
        amount:
          type: number
        currency:
          type: string
        description:
          type: string
        relatedEntityId:
          type: string
        relatedEntityType:
          type: string
        balanceAfter:
          type: number
      required:
      - amount
      - createdAt
      - currency
      - id
      - type
      - updatedAt
      type: object
    ListCustomerTransactionsResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - amount: 0.8008281904610115
          description: description
          relatedEntityType: relatedEntityType
          type: type
          createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          customerId: customerId
          relatedEntityId: relatedEntityId
          currency: currency
          balanceAfter: 6.027456183070403
          id: id
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - amount: 0.8008281904610115
          description: description
          relatedEntityType: relatedEntityType
          type: type
          createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          customerId: customerId
          relatedEntityId: relatedEntityId
          currency: currency
          balanceAfter: 6.027456183070403
          id: id
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          items:
            $ref: "#/components/schemas/CustomerTransactionDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    CustomerPaymentMethodDto:
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        last4: last4
        deletedAt: 2000-01-23T04:56:07.000+00:00
        isDefault: true
        customerId: customerId
        expiryMonth: 0.8008281904610115
        id: id
        expiryYear: 6.027456183070403
        type: type
        brand: brand
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        customerId:
          type: string
        type:
          type: string
        brand:
          type: string
        last4:
          type: string
        expiryMonth:
          type: number
        expiryYear:
          type: number
        isDefault:
          type: boolean
      required:
      - createdAt
      - customerId
      - id
      - type
      - updatedAt
      type: object
    ListCustomerPaymentMethodsResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          last4: last4
          deletedAt: 2000-01-23T04:56:07.000+00:00
          isDefault: true
          customerId: customerId
          expiryMonth: 0.8008281904610115
          id: id
          expiryYear: 6.027456183070403
          type: type
          brand: brand
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          last4: last4
          deletedAt: 2000-01-23T04:56:07.000+00:00
          isDefault: true
          customerId: customerId
          expiryMonth: 0.8008281904610115
          id: id
          expiryYear: 6.027456183070403
          type: type
          brand: brand
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          items:
            $ref: "#/components/schemas/CustomerPaymentMethodDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    EventResponseDto:
      example:
        nextRetryAt: 2000-01-23T04:56:07.000+00:00
        data:
          key: value
        lastAttemptAt: 2000-01-23T04:56:07.000+00:00
        relatedEntityType: relatedEntityType
        type: type
        deliveredAt: 2000-01-23T04:56:07.000+00:00
        createdAt: 2000-01-23T04:56:07.000+00:00
        merchantId: merchantId
        webhookEndpointId: webhookEndpointId
        relatedEntityId: relatedEntityId
        id: id
        status: pending
        attempts: 0.8008281904610115
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Unique identifier for the event
          type: string
        merchantId:
          description: ID of the merchant this event belongs to
          type: string
        webhookEndpointId:
          description: ID of the webhook endpoint this event was sent to
          type: string
        type:
          description: Event type name
          type: string
        data:
          description: Event data payload
          example:
            key: value
          type: object
        status:
          description: Current delivery status of the event
          enum:
          - pending
          - delivered
          - failed
          type: string
        attempts:
          description: Number of delivery attempts
          type: number
        relatedEntityId:
          description: ID of the related entity
          type: string
        relatedEntityType:
          description: Type of the related entity
          type: string
        lastAttemptAt:
          description: Timestamp of the last delivery attempt
          format: date-time
          type: string
        nextRetryAt:
          description: Timestamp for the next retry attempt
          format: date-time
          type: string
        deliveredAt:
          description: Timestamp when the event was successfully delivered
          format: date-time
          type: string
        createdAt:
          description: Timestamp when the event was created
          format: date-time
          type: string
        updatedAt:
          description: Timestamp when the event was last updated
          format: date-time
          type: string
      required:
      - attempts
      - createdAt
      - data
      - id
      - merchantId
      - status
      - type
      - updatedAt
      - webhookEndpointId
      type: object
    ListEventsResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - nextRetryAt: 2000-01-23T04:56:07.000+00:00
          data:
            key: value
          lastAttemptAt: 2000-01-23T04:56:07.000+00:00
          relatedEntityType: relatedEntityType
          type: type
          deliveredAt: 2000-01-23T04:56:07.000+00:00
          createdAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          webhookEndpointId: webhookEndpointId
          relatedEntityId: relatedEntityId
          id: id
          status: pending
          attempts: 0.8008281904610115
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - nextRetryAt: 2000-01-23T04:56:07.000+00:00
          data:
            key: value
          lastAttemptAt: 2000-01-23T04:56:07.000+00:00
          relatedEntityType: relatedEntityType
          type: type
          deliveredAt: 2000-01-23T04:56:07.000+00:00
          createdAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          webhookEndpointId: webhookEndpointId
          relatedEntityId: relatedEntityId
          id: id
          status: pending
          attempts: 0.8008281904610115
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          items:
            $ref: "#/components/schemas/EventResponseDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    CreatePaymentIntentDto:
      example:
        mode: payment
        amount: 0.8008281904610115
        metadata:
          orderId: "12345"
          customField: value
        merchantId: merchantId
        paymentMethodId: paymentMethodId
        idempotencyKey: idempotencyKey
        customerId: customerId
        description: description
        currency: ZAR
        expiresAt: 2000-01-23T04:56:07.000+00:00
      properties:
        merchantId:
          description: "The ID of the merchant whose balance is being requested. If\
            \ omitted, defaults to the authenticated merchant."
          type: string
        customerId:
          description: The unique identifier of the customer. Optional for payment
            intents that don't require a customer.
          type: string
        paymentMethodId:
          description: The unique identifier of the payment method. Optional if payment
            method will be collected later.
          type: string
        amount:
          description: The amount to charge in the smallest currency unit (cents)
          type: number
        currency:
          description: The three-letter ISO 4217 currency code
          example: ZAR
          type: string
        mode:
          default: payment
          description: The mode of the payment intent
          enum:
          - payment
          - setup
          - subscription
          type: string
        description:
          description: Optional description for the payment
          type: string
        metadata:
          additionalProperties: true
          description: Optional custom metadata
          example:
            orderId: "12345"
            customField: value
          type: object
        idempotencyKey:
          description: "A unique key to prevent duplicate charges. If not provided,\
            \ one will be generated."
          type: string
        expiresAt:
          description: When the payment intent expires. Defaults to 24 hours from
            creation.
          format: date-time
          type: string
      required:
      - amount
      - currency
      type: object
    PaymentIntentResponseDto:
      example:
        amount: 0.8008281904610115
        metadata:
          orderId: "12345"
        idempotencyKey: idempotencyKey
        description: description
        expiresAt: 2000-01-23T04:56:07.000+00:00
        mode: payment
        createdAt: 2000-01-23T04:56:07.000+00:00
        deletedAt: 2000-01-23T04:56:07.000+00:00
        merchantId: merchantId
        paymentMethodId: paymentMethodId
        customerId: customerId
        currency: currency
        id: id
        status: initiation
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Unique payment intent ID
          type: string
        merchantId:
          description: Merchant ID
          type: string
        customerId:
          description: Customer ID (if associated)
          nullable: true
          type: string
        paymentMethodId:
          description: Payment method ID (if attached)
          nullable: true
          type: string
        amount:
          description: Amount in smallest currency unit
          type: number
        currency:
          description: Three-letter currency code
          type: string
        status:
          description: Current status of the payment intent
          enum:
          - initiation
          - requires_payment_method
          - requires_confirmation
          - requires_action
          - processing
          - requires_capture
          - succeeded
          - failed
          - canceled
          type: string
        mode:
          description: Mode of the payment intent
          enum:
          - payment
          - setup
          - subscription
          type: string
        description:
          description: Description
          type: string
        metadata:
          additionalProperties: true
          description: Custom metadata
          example:
            orderId: "12345"
          type: object
        idempotencyKey:
          description: Unique idempotency key for this payment intent
          type: string
        expiresAt:
          description: When the payment intent expires
          format: date-time
          type: string
        createdAt:
          description: Creation timestamp
          format: date-time
          type: string
        updatedAt:
          description: Last update timestamp
          format: date-time
          type: string
        deletedAt:
          description: Deletion timestamp (for soft deletes)
          format: date-time
          nullable: true
          type: string
      required:
      - amount
      - createdAt
      - currency
      - customerId
      - expiresAt
      - id
      - idempotencyKey
      - merchantId
      - mode
      - paymentMethodId
      - status
      - updatedAt
      type: object
    ListPaymentIntentsResponseDto:
      example:
        pagination: ""
        data:
        - amount: 0.8008281904610115
          metadata:
            orderId: "12345"
          idempotencyKey: idempotencyKey
          description: description
          expiresAt: 2000-01-23T04:56:07.000+00:00
          mode: payment
          createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          paymentMethodId: paymentMethodId
          customerId: customerId
          currency: currency
          id: id
          status: initiation
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - amount: 0.8008281904610115
          metadata:
            orderId: "12345"
          idempotencyKey: idempotencyKey
          description: description
          expiresAt: 2000-01-23T04:56:07.000+00:00
          mode: payment
          createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          paymentMethodId: paymentMethodId
          customerId: customerId
          currency: currency
          id: id
          status: initiation
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          description: List of payment intents
          items:
            $ref: "#/components/schemas/PaymentIntentResponseDto"
          type: array
        pagination:
          allOf:
          - $ref: "#/components/schemas/PaginationResponseDto"
          description: Pagination metadata
      required:
      - data
      - pagination
      type: object
    CreatePaymentLinkDto:
      example:
        mode: payment
        amount: 0.8008281904610115
        cancelUrl: cancelUrl
        metadata:
          orderId: "12345"
          customField: value
        productId: productId
        merchantId: merchantId
        customerId: customerId
        successUrl: successUrl
        currency: currency
      properties:
        merchantId:
          description: "The ID of the merchant whose balance is being requested. If\
            \ omitted, defaults to the authenticated merchant."
          type: string
        productId:
          description: The unique identifier of the product
          type: string
        customerId:
          description: The unique identifier of the customer
          type: string
        amount:
          description: The amount in the smallest currency unit
          type: number
        currency:
          description: The three-letter ISO 4217 currency code
          type: string
        mode:
          description: "The payment mode (e.g., 'payment' or 'subscription')"
          enum:
          - payment
          - setup
          - subscription
          type: string
        successUrl:
          description: The URL to redirect to on successful payment
          type: string
        cancelUrl:
          description: The URL to redirect to if customer cancels
          type: string
        metadata:
          additionalProperties: true
          description: Optional custom metadata
          example:
            orderId: "12345"
            customField: value
          type: object
      required:
      - cancelUrl
      - currency
      - metadata
      - mode
      - successUrl
      type: object
    PaymentLinkResponseDto:
      example:
        amount: 0.8008281904610115
        metadata:
          customField: value
        productId: productId
        active: true
        successUrl: successUrl
        url: url
        mode: payment
        createdAt: 2000-01-23T04:56:07.000+00:00
        cancelUrl: cancelUrl
        deletedAt: 2000-01-23T04:56:07.000+00:00
        merchantId: merchantId
        customerId: customerId
        currency: currency
        id: id
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          type: string
        merchantId:
          type: string
        url:
          type: string
        productId:
          type: string
        customerId:
          type: string
        amount:
          type: number
        currency:
          type: string
        mode:
          enum:
          - payment
          - setup
          - subscription
          type: string
        active:
          type: boolean
        successUrl:
          type: string
        cancelUrl:
          type: string
        metadata:
          additionalProperties: true
          example:
            customField: value
          type: object
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
      required:
      - active
      - cancelUrl
      - createdAt
      - currency
      - id
      - merchantId
      - metadata
      - mode
      - successUrl
      - updatedAt
      - url
      type: object
    ListPaymentLinksResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - amount: 0.8008281904610115
          metadata:
            customField: value
          productId: productId
          active: true
          successUrl: successUrl
          url: url
          mode: payment
          createdAt: 2000-01-23T04:56:07.000+00:00
          cancelUrl: cancelUrl
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          customerId: customerId
          currency: currency
          id: id
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - amount: 0.8008281904610115
          metadata:
            customField: value
          productId: productId
          active: true
          successUrl: successUrl
          url: url
          mode: payment
          createdAt: 2000-01-23T04:56:07.000+00:00
          cancelUrl: cancelUrl
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          customerId: customerId
          currency: currency
          id: id
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          items:
            $ref: "#/components/schemas/PaymentLinkResponseDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    UpdatePaymentLinkDto:
      example:
        amount: 0.8008281904610115
        cancelUrl: cancelUrl
        metadata:
          orderId: "12345"
        active: true
        successUrl: successUrl
      properties:
        active:
          description: Whether the payment link is active
          type: boolean
        amount:
          type: number
        successUrl:
          description: The URL to redirect to on successful payment
          type: string
        cancelUrl:
          description: The URL to redirect to if customer cancels
          type: string
        metadata:
          additionalProperties: true
          description: Optional custom metadata
          example:
            orderId: "12345"
          type: object
      required:
      - metadata
      type: object
    PaymentMethodResponseDto:
      example:
        last4: last4
        createdAt: 2000-01-23T04:56:07.000+00:00
        isDefault: true
        phoneNumber: phoneNumber
        provider: provider
        customerId: customerId
        expiryMonth: 0.8008281904610115
        id: id
        expiryYear: 6.027456183070403
        type: type
        brand: brand
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Unique payment method identifier
          type: string
        customerId:
          description: Customer ID this payment method belongs to
          type: string
        type:
          description: "Payment method type (e.g., card, mobile_money)"
          type: string
        provider:
          description: "Payment provider name (e.g., iveri, mpesa)"
          type: string
        brand:
          description: "Card brand (e.g., Visa, Mastercard)"
          type: string
        last4:
          description: Last 4 digits of card number
          type: string
        expiryMonth:
          description: Card expiry month (1-12)
          type: number
        expiryYear:
          description: Card expiry year
          type: number
        phoneNumber:
          description: Phone number for mobile money
          type: string
        isDefault:
          description: Whether this is the default payment method
          type: boolean
        createdAt:
          description: When the payment method was created
          format: date-time
          type: string
        updatedAt:
          description: When the payment method was last updated
          format: date-time
          type: string
      required:
      - createdAt
      - customerId
      - id
      - isDefault
      - provider
      - type
      - updatedAt
      type: object
    ListPaymentMethodsResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - last4: last4
          createdAt: 2000-01-23T04:56:07.000+00:00
          isDefault: true
          phoneNumber: phoneNumber
          provider: provider
          customerId: customerId
          expiryMonth: 0.8008281904610115
          id: id
          expiryYear: 6.027456183070403
          type: type
          brand: brand
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - last4: last4
          createdAt: 2000-01-23T04:56:07.000+00:00
          isDefault: true
          phoneNumber: phoneNumber
          provider: provider
          customerId: customerId
          expiryMonth: 0.8008281904610115
          id: id
          expiryYear: 6.027456183070403
          type: type
          brand: brand
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          items:
            $ref: "#/components/schemas/PaymentMethodResponseDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    CreatePaymentMethodDto:
      properties:
        customerId:
          type: string
        type:
          type: string
        isDefault:
          type: boolean
        cardNumber:
          type: string
        brand:
          type: string
        last4:
          type: string
        expiryMonth:
          type: number
        expiryYear:
          type: number
      required:
      - customerId
      - type
      type: object
    CreateProductDto:
      example:
        amount: 0.8008281904610115
        metadata:
          sku: PROD-001
          category: electronics
        imageId: imageId
        merchantId: merchantId
        name: name
        description: description
        active: true
        currency: currency
      properties:
        merchantId:
          description: "The ID of the merchant whose balance is being requested. If\
            \ omitted, defaults to the authenticated merchant."
          type: string
        name:
          description: The name of the product
          type: string
        description:
          description: A description of the product
          type: string
        amount:
          description: The price of the product in the smallest currency unit
          type: number
        currency:
          description: The three-letter ISO 4217 currency code
          type: string
        active:
          description: Whether the product is active
          type: boolean
        imageId:
          description: The ID of the product image file
          type: string
        metadata:
          additionalProperties: true
          description: Optional custom metadata
          example:
            sku: PROD-001
            category: electronics
          type: object
      required:
      - currency
      - metadata
      - name
      type: object
    ProductResponseDto:
      example:
        amount: 0.8008281904610115
        metadata:
          sku: PROD-001
        imageId: imageId
        description: description
        active: true
        createdAt: 2000-01-23T04:56:07.000+00:00
        deletedAt: 2000-01-23T04:56:07.000+00:00
        merchantId: merchantId
        imageUrl: imageUrl
        name: name
        currency: currency
        id: id
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        merchantId:
          type: string
        name:
          type: string
        description:
          type: string
        amount:
          type: number
        currency:
          type: string
        active:
          type: boolean
        imageId:
          description: The ID of the product image file
          type: string
        imageUrl:
          description: The public URL of the product image
          type: string
        metadata:
          additionalProperties: true
          example:
            sku: PROD-001
          type: object
      required:
      - active
      - createdAt
      - currency
      - id
      - merchantId
      - metadata
      - name
      - updatedAt
      type: object
    ListProductsResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - amount: 0.8008281904610115
          metadata:
            sku: PROD-001
          imageId: imageId
          description: description
          active: true
          createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          imageUrl: imageUrl
          name: name
          currency: currency
          id: id
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - amount: 0.8008281904610115
          metadata:
            sku: PROD-001
          imageId: imageId
          description: description
          active: true
          createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          imageUrl: imageUrl
          name: name
          currency: currency
          id: id
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          items:
            $ref: "#/components/schemas/ProductResponseDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    UpdateProductDto:
      example:
        amount: 0.8008281904610115
        metadata:
          sku: PROD-001
        imageId: imageId
        name: name
        description: description
        active: true
      properties:
        name:
          description: The name of the product
          type: string
        description:
          description: A description of the product
          type: string
        amount:
          description: The price of the product in the smallest currency unit
          type: number
        active:
          description: Whether the product is active
          type: boolean
        imageId:
          description: The ID of the product image file
          type: string
        metadata:
          additionalProperties: true
          description: Optional custom metadata
          example:
            sku: PROD-001
          type: object
      required:
      - metadata
      type: object
    CreatePayoutDto:
      example:
        bankAccount: bankAccount
        amount: 0.8008281904610115
        metadata:
          orderId: "12345"
        merchantId: merchantId
        description: description
        currency: currency
      properties:
        merchantId:
          description: "The ID of the merchant whose balance is being requested. If\
            \ omitted, defaults to the authenticated merchant."
          type: string
        amount:
          type: number
        currency:
          type: string
        bankAccount:
          type: string
        description:
          type: string
        metadata:
          additionalProperties: true
          example:
            orderId: "12345"
          type: object
      required:
      - amount
      - currency
      - metadata
      type: object
    PayoutResponseDto:
      example:
        bankAccount: bankAccount
        createdAt: 2000-01-23T04:56:07.000+00:00
        amount: 0.8008281904610115
        metadata:
          orderId: "12345"
        merchantId: merchantId
        description: description
        currency: currency
        id: id
        status: status
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          type: string
        merchantId:
          type: string
        amount:
          type: number
        currency:
          type: string
        status:
          type: string
        bankAccount:
          type: string
        description:
          type: string
        metadata:
          additionalProperties: true
          example:
            orderId: "12345"
          type: object
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
      - amount
      - createdAt
      - currency
      - id
      - merchantId
      - metadata
      - status
      - updatedAt
      type: object
    ListPayoutsResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - bankAccount: bankAccount
          createdAt: 2000-01-23T04:56:07.000+00:00
          amount: 0.8008281904610115
          metadata:
            orderId: "12345"
          merchantId: merchantId
          description: description
          currency: currency
          id: id
          status: status
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - bankAccount: bankAccount
          createdAt: 2000-01-23T04:56:07.000+00:00
          amount: 0.8008281904610115
          metadata:
            orderId: "12345"
          merchantId: merchantId
          description: description
          currency: currency
          id: id
          status: status
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          items:
            $ref: "#/components/schemas/PayoutResponseDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    UpdatePayoutDto:
      properties:
        status:
          type: string
        description:
          type: string
        metadata:
          additionalProperties: true
          example:
            note: Updated
          type: object
      required:
      - metadata
      type: object
    CreateTransferDto:
      example:
        amount: 0.8008281904610115
        fromCustomerId: fromCustomerId
        merchantId: merchantId
        description: description
        currency: currency
        toCustomerId: toCustomerId
      properties:
        merchantId:
          description: "The ID of the merchant whose balance is being requested. If\
            \ omitted, defaults to the authenticated merchant."
          type: string
        fromCustomerId:
          description: The unique identifier of the customer sending the transfer
          type: string
        toCustomerId:
          description: The unique identifier of the customer receiving the transfer
          type: string
        amount:
          description: The amount to transfer in the smallest currency unit
          type: number
        currency:
          description: The three-letter ISO 4217 currency code
          type: string
        description:
          description: Optional description for the transfer
          type: string
      required:
      - amount
      - currency
      - fromCustomerId
      - toCustomerId
      type: object
    TransferResponseDto:
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        amount: 0.8008281904610115
        fromCustomerId: fromCustomerId
        merchantId: merchantId
        description: description
        currency: currency
        id: id
        toCustomerId: toCustomerId
        status: status
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          type: string
        merchantId:
          type: string
        fromCustomerId:
          type: string
        toCustomerId:
          type: string
        amount:
          type: number
        currency:
          type: string
        description:
          type: string
        status:
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
      - amount
      - createdAt
      - currency
      - fromCustomerId
      - id
      - merchantId
      - status
      - toCustomerId
      - updatedAt
      type: object
    ListTransfersResponseDto:
      example:
        pagination: ""
        data:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          amount: 0.8008281904610115
          fromCustomerId: fromCustomerId
          merchantId: merchantId
          description: description
          currency: currency
          id: id
          toCustomerId: toCustomerId
          status: status
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          amount: 0.8008281904610115
          fromCustomerId: fromCustomerId
          merchantId: merchantId
          description: description
          currency: currency
          id: id
          toCustomerId: toCustomerId
          status: status
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          description: List of transfers
          items:
            $ref: "#/components/schemas/TransferResponseDto"
          type: array
        pagination:
          allOf:
          - $ref: "#/components/schemas/PaginationResponseDto"
          description: Pagination metadata
      required:
      - data
      - pagination
      type: object
    CreatePurchaseDto:
      example:
        amount: 0.8008281904610115
        quantity: 6.027456183070403
        productId: productId
        merchantId: merchantId
        customerId: customerId
        currency: currency
      properties:
        merchantId:
          description: "The ID of the merchant whose balance is being requested. If\
            \ omitted, defaults to the authenticated merchant."
          type: string
        customerId:
          description: The unique identifier of the customer
          type: string
        productId:
          description: The unique identifier of the product
          type: string
        amount:
          description: The amount in the smallest currency unit
          type: number
        currency:
          description: The three-letter ISO 4217 currency code
          type: string
        quantity:
          description: The quantity of items in the purchase
          type: number
      required:
      - amount
      - currency
      - customerId
      - productId
      type: object
    PurchaseResponseDto:
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        amount: 0.8008281904610115
        productId: productId
        merchantId: merchantId
        customerId: customerId
        currency: currency
        id: id
        customerBalanceBefore: 6.027456183070403
        customerBalanceAfter: 1.4658129805029452
        status: status
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          type: string
        merchantId:
          type: string
        customerId:
          type: string
        productId:
          type: string
        amount:
          type: number
        currency:
          type: string
        status:
          type: string
        customerBalanceBefore:
          type: number
        customerBalanceAfter:
          type: number
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
      - amount
      - createdAt
      - currency
      - customerId
      - id
      - merchantId
      - status
      - updatedAt
      type: object
    CreateWebhookEndpointDto:
      example:
        metadata:
          environment: production
        merchantId: merchantId
        url: url
        events:
        - events
        - events
      properties:
        merchantId:
          description: "The ID of the merchant whose balance is being requested. If\
            \ omitted, defaults to the authenticated merchant."
          type: string
        url:
          description: The URL where webhook events will be sent
          type: string
        events:
          description: Array of event types to listen for
          items:
            type: string
          type: array
        metadata:
          additionalProperties: true
          description: Optional custom metadata
          example:
            environment: production
          type: object
      required:
      - events
      - url
      type: object
    WebhookEndpointResponseDto:
      example:
        createdAt: 2000-01-23T04:56:07.000+00:00
        metadata:
          environment: production
        deletedAt: 2000-01-23T04:56:07.000+00:00
        merchantId: merchantId
        active: true
        id: id
        url: url
        events:
        - events
        - events
        updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        id:
          description: Unique identifier for the webhook endpoint
          type: string
        merchantId:
          description: The merchant ID this webhook belongs to
          type: string
        url:
          description: The URL where webhook events are sent
          type: string
        events:
          description: Array of event types subscribed to
          items:
            type: string
          type: array
        active:
          description: Whether the webhook endpoint is active
          type: boolean
        metadata:
          additionalProperties: true
          description: Custom metadata attached to the webhook endpoint
          example:
            environment: production
          type: object
        createdAt:
          description: When the webhook endpoint was created
          format: date-time
          type: string
        updatedAt:
          description: When the webhook endpoint was last updated
          format: date-time
          type: string
        deletedAt:
          description: When the webhook endpoint was deleted (soft delete)
          format: date-time
          type: string
      required:
      - active
      - createdAt
      - events
      - id
      - merchantId
      - updatedAt
      - url
      type: object
    ListWebhookEndpointsResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - createdAt: 2000-01-23T04:56:07.000+00:00
          metadata:
            environment: production
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          active: true
          id: id
          url: url
          events:
          - events
          - events
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - createdAt: 2000-01-23T04:56:07.000+00:00
          metadata:
            environment: production
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          active: true
          id: id
          url: url
          events:
          - events
          - events
          updatedAt: 2000-01-23T04:56:07.000+00:00
      properties:
        data:
          items:
            $ref: "#/components/schemas/WebhookEndpointResponseDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    UpdateWebhookEndpointDto:
      properties:
        url:
          description: The URL where webhook events will be sent
          type: string
        events:
          description: Array of event types to listen for
          items:
            type: string
          type: array
        active:
          description: Whether the webhook endpoint is active
          type: boolean
        metadata:
          additionalProperties: true
          description: Optional custom metadata
          example:
            environment: staging
          type: object
      type: object
    MetricStatsDto:
      example:
        count: 0.8008281904610115
        sum: 6.027456183070403
      properties:
        count:
          description: Count of items
          type: number
        sum:
          description: Sum of amounts in cents/smallest unit
          type: number
      required:
      - count
      - sum
      type: object
    DailyBreakdownDto:
      example:
        date: date
        count: 1.4658129805029452
        sum: 5.962133916683182
      properties:
        date:
          description: The date for this breakdown (ISO string)
          type: string
        count:
          description: Count of transactions on this day
          type: number
        sum:
          description: Sum of transaction amounts on this day
          type: number
      required:
      - count
      - date
      - sum
      type: object
    TimeframeMetricsDto:
      example:
        daily:
          count: 0.8008281904610115
          sum: 6.027456183070403
        breakdown:
        - date: date
          count: 1.4658129805029452
          sum: 5.962133916683182
        - date: date
          count: 1.4658129805029452
          sum: 5.962133916683182
        monthly:
          count: 0.8008281904610115
          sum: 6.027456183070403
        weekly:
          count: 0.8008281904610115
          sum: 6.027456183070403
      properties:
        daily:
          $ref: "#/components/schemas/MetricStatsDto"
        weekly:
          $ref: "#/components/schemas/MetricStatsDto"
        monthly:
          $ref: "#/components/schemas/MetricStatsDto"
        breakdown:
          description: Day-by-day breakdown for the last 30 days
          items:
            $ref: "#/components/schemas/DailyBreakdownDto"
          type: array
      required:
      - breakdown
      - daily
      - monthly
      - weekly
      type: object
    CustomerStatsDto:
      example:
        daily: 5.637376656633329
        monthly: 7.061401241503109
        weekly: 2.3021358869347655
      properties:
        daily:
          description: New customers in the last 24 hours
          type: number
        weekly:
          description: New customers in the last 7 days
          type: number
        monthly:
          description: New customers in the last 30 days
          type: number
      required:
      - daily
      - monthly
      - weekly
      type: object
    AnalyticsResponseDto:
      example:
        recentTransactions:
        - amount: 0.8008281904610115
          description: description
          relatedEntityType: relatedEntityType
          type: type
          createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          customerId: customerId
          relatedEntityId: relatedEntityId
          currency: currency
          balanceAfter: 6.027456183070403
          id: id
          updatedAt: 2000-01-23T04:56:07.000+00:00
        - amount: 0.8008281904610115
          description: description
          relatedEntityType: relatedEntityType
          type: type
          createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          merchantId: merchantId
          customerId: customerId
          relatedEntityId: relatedEntityId
          currency: currency
          balanceAfter: 6.027456183070403
          id: id
          updatedAt: 2000-01-23T04:56:07.000+00:00
        newCustomers:
          daily: 5.637376656633329
          monthly: 7.061401241503109
          weekly: 2.3021358869347655
        transactions:
          daily:
            count: 0.8008281904610115
            sum: 6.027456183070403
          breakdown:
          - date: date
            count: 1.4658129805029452
            sum: 5.962133916683182
          - date: date
            count: 1.4658129805029452
            sum: 5.962133916683182
          monthly:
            count: 0.8008281904610115
            sum: 6.027456183070403
          weekly:
            count: 0.8008281904610115
            sum: 6.027456183070403
      properties:
        transactions:
          $ref: "#/components/schemas/TimeframeMetricsDto"
        newCustomers:
          $ref: "#/components/schemas/CustomerStatsDto"
        recentTransactions:
          description: The 5 most recent transactions
          items:
            $ref: "#/components/schemas/CustomerTransactionDto"
          type: array
      required:
      - newCustomers
      - recentTransactions
      - transactions
      type: object
    AnalyticsSummaryDto:
      example:
        balance: 0.8008281904610115
        members: 5.962133916683182
        customers: 6.027456183070403
        transactions: 1.4658129805029452
      properties:
        balance:
          description: Current merchant balance in cents/smallest unit
          type: number
        customers:
          description: Total number of customers
          type: number
        transactions:
          description: Total number of transactions
          type: number
        members:
          description: Total number of organization members
          type: number
      required:
      - balance
      - customers
      - members
      - transactions
      type: object
    EvervaultEncryptedCardDto:
      properties:
        PAN:
          description: Encrypted Primary Account Number (PAN)
          example: ev:encrypted:ABC123...
          type: string
        ExpiryDate:
          description: Encrypted card expiry date
          example: ev:encrypted:DEF456...
          type: string
        CardSecurityCode:
          description: Encrypted card security code (CVV)
          example: ev:encrypted:GHI789...
          type: string
        CardholderName:
          description: Encrypted cardholder name
          example: ev:encrypted:JKL012...
          type: string
      required:
      - CardSecurityCode
      - ExpiryDate
      - PAN
      type: object
    InitiatePaymentDto:
      properties:
        amount:
          description: "Payment amount in the smallest currency unit (e.g., cents)"
          example: 10000
          type: number
        currency:
          description: Three-letter ISO 4217 currency code
          example: ZAR
          type: string
        merchantId:
          description: The unique identifier of the merchant
          example: mer_abc123
          type: string
        evervaultEncryptedCard:
          allOf:
          - $ref: "#/components/schemas/EvervaultEncryptedCardDto"
          description: Evervault encrypted card details
        paymentIntentId:
          description: Payment intent ID (generated if not provided)
          example: pi_xyz789
          type: string
        maskedPan:
          description: Masked PAN for display purposes
          example: '************1234'
          type: string
        tokenizeCard:
          default: false
          description: Whether to tokenize the card for future use
          type: boolean
        firstName:
          description: Cardholder first name
          example: John
          type: string
        lastName:
          description: Cardholder last name
          example: Doe
          type: string
        phoneNumber:
          description: Cardholder phone number
          example: "+27123456789"
          type: string
        paymentDescription:
          description: Payment description
          example: "Payment for order #12345"
          type: string
        merchantName:
          description: Merchant name for display
          example: Acme Store
          type: string
        metadata:
          description: Additional metadata
          example:
            orderId: "12345"
            customField: value
          type: object
      required:
      - amount
      - currency
      - evervaultEncryptedCard
      - merchantId
      type: object
    IveriParamsDto:
      properties:
        ApplicationID:
          description: iVeri Application ID
          example: APP123
          type: string
        ReturnUrl:
          description: URL to return to after 3DS authentication
          example: https://api.example.com/api/iveri/debit-return
          type: string
        MerchantReference:
          description: Unique merchant reference for this payment
          example: pi_xyz789
          type: string
        Amount:
          description: Payment amount in cents (as string)
          example: "10000"
          type: string
        Currency:
          description: Three-letter ISO 4217 currency code
          example: ZAR
          type: string
      required:
      - Amount
      - ApplicationID
      - Currency
      - MerchantReference
      - ReturnUrl
      type: object
    InitiatePaymentResponseDto:
      properties:
        iveriParams:
          allOf:
          - $ref: "#/components/schemas/IveriParamsDto"
          description: Parameters to POST to iVeri 3DS endpoint
        iVeri3dsEndpoint:
          description: iVeri 3DS endpoint URL to POST the parameters to
          example: https://portal.nedsecure.co.za/threedsecure/EnrollmentInitial
          type: string
      required:
      - iVeri3dsEndpoint
      - iveriParams
      type: object
    DebitReturnResponseDto:
      properties:
        status:
          description: Payment status after 3DS authentication
          enum:
          - succeeded
          - failed
          - pending
          example: succeeded
          type: string
        merchantReference:
          description: Merchant reference for the payment
          example: pi_xyz789
          type: string
        paymentIntentId:
          description: Payment intent ID
          example: pi_xyz789
          type: string
        transactionId:
          description: Transaction ID if payment succeeded
          example: txn_abc123
          type: string
        authCode:
          description: Authorization code from payment gateway
          example: AUTH123456
          type: string
        reason:
          description: Reason for failure if payment failed
          example: Insufficient funds
          type: string
        amount:
          description: Payment amount in smallest currency unit
          example: 10000
          type: number
        currency:
          description: Currency code
          example: ZAR
          type: string
      required:
      - merchantReference
      - status
      type: object
    IVeriHealthCheckResponseDto:
      properties:
        status:
          description: Service health status
          example: ok
          type: string
        timestamp:
          description: Current server timestamp in ISO format
          example: 2024-01-15T10:30:00.000Z
          type: string
      required:
      - status
      - timestamp
      type: object
    CreateOrganizationComplianceDto:
      example:
        companyTradingName: companyTradingName
        country: country
        certificateOfIncorporation: certificateOfIncorporation
        businessDescription: businessDescription
        city: city
        accountName: accountName
        postalCode: postalCode
        customerSupportContactNumber: customerSupportContactNumber
        companyRegistrationName: companyRegistrationName
        swiftCode: swiftCode
        industry: industry
        organizationId: organizationId
        subIndustry: subIndustry
        customerSupportEscalationContactNumber: customerSupportEscalationContactNumber
        bank: bank
        companyEmail: companyEmail
        companyMobileMoneySettlementNumber: companyMobileMoneySettlementNumber
        identityDocuments: identityDocuments
        estimatedAnnualTurnover: estimatedAnnualTurnover
        acceptedAt: 2000-01-23T04:56:07.000+00:00
        isCompleted: true
        bankAccountConfirmationLetter: bankAccountConfirmationLetter
        website: website
        companyRegistrationNumber: companyRegistrationNumber
        emergencyContactNumber: emergencyContactNumber
        accountType: accountType
        proofOfBusinessAddress: proofOfBusinessAddress
        socialMedia: socialMedia
        accountNumber: accountNumber
        branchCode: branchCode
        currentStep: initiation
        vatRegistrationNumber: vatRegistrationNumber
        completionScore: 0.8008281904610115
        accountContactNumber: accountContactNumber
        streetAddress: streetAddress
        termsAccepted: true
        suburb: suburb
        companyContactNumber: companyContactNumber
        apartment: apartment
        status: pending
      properties:
        organizationId:
          type: string
        companyRegistrationName:
          type: string
        companyRegistrationNumber:
          type: string
        companyTradingName:
          type: string
        vatRegistrationNumber:
          type: string
        industry:
          type: string
        subIndustry:
          type: string
        estimatedAnnualTurnover:
          type: string
        businessDescription:
          description: Long business description
          type: string
        companyMobileMoneySettlementNumber:
          type: string
        companyEmail:
          type: string
        companyContactNumber:
          type: string
        website:
          type: string
        socialMedia:
          type: string
        accountContactNumber:
          type: string
        customerSupportContactNumber:
          type: string
        customerSupportEscalationContactNumber:
          type: string
        emergencyContactNumber:
          type: string
        streetAddress:
          type: string
        apartment:
          type: string
        suburb:
          type: string
        city:
          type: string
        postalCode:
          type: string
        country:
          type: string
        bank:
          type: string
        accountType:
          type: string
        accountName:
          type: string
        accountNumber:
          type: string
        branchCode:
          type: string
        swiftCode:
          type: string
        certificateOfIncorporation:
          type: string
        identityDocuments:
          description: JSON/text representation of identity documents
          type: string
        bankAccountConfirmationLetter:
          type: string
        proofOfBusinessAddress:
          type: string
        termsAccepted:
          type: boolean
        acceptedAt:
          format: date-time
          type: string
        currentStep:
          enum:
          - initiation
          - verification
          - business_details
          - banking_details
          - upload_documents
          - sign_agreement
          type: string
        status:
          enum:
          - pending
          - verified
          - rejected
          type: string
        isCompleted:
          type: boolean
        completionScore:
          type: number
      required:
      - organizationId
      type: object
    OrganizationComplianceResponseDto:
      example:
        companyTradingName: companyTradingName
        country: country
        certificateOfIncorporation: certificateOfIncorporation
        businessDescription: businessDescription
        city: city
        accountName: accountName
        postalCode: postalCode
        customerSupportContactNumber: customerSupportContactNumber
        companyRegistrationName: companyRegistrationName
        swiftCode: swiftCode
        industry: industry
        organizationId: organizationId
        subIndustry: subIndustry
        createdAt: 2000-01-23T04:56:07.000+00:00
        customerSupportEscalationContactNumber: customerSupportEscalationContactNumber
        bank: bank
        companyEmail: companyEmail
        companyMobileMoneySettlementNumber: companyMobileMoneySettlementNumber
        id: id
        identityDocuments: identityDocuments
        estimatedAnnualTurnover: estimatedAnnualTurnover
        updatedAt: 2000-01-23T04:56:07.000+00:00
        acceptedAt: 2000-01-23T04:56:07.000+00:00
        isCompleted: true
        bankAccountConfirmationLetter: bankAccountConfirmationLetter
        website: website
        companyRegistrationNumber: companyRegistrationNumber
        emergencyContactNumber: emergencyContactNumber
        accountType: accountType
        proofOfBusinessAddress: proofOfBusinessAddress
        socialMedia: socialMedia
        accountNumber: accountNumber
        branchCode: branchCode
        currentStep: initiation
        deletedAt: 2000-01-23T04:56:07.000+00:00
        vatRegistrationNumber: vatRegistrationNumber
        completionScore: 0.8008281904610115
        accountContactNumber: accountContactNumber
        streetAddress: streetAddress
        termsAccepted: true
        suburb: suburb
        companyContactNumber: companyContactNumber
        apartment: apartment
        status: pending
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        organizationId:
          type: string
        companyRegistrationName:
          type: string
        companyRegistrationNumber:
          type: string
        companyTradingName:
          type: string
        vatRegistrationNumber:
          type: string
        industry:
          type: string
        subIndustry:
          type: string
        estimatedAnnualTurnover:
          type: string
        businessDescription:
          type: string
        companyMobileMoneySettlementNumber:
          type: string
        companyEmail:
          type: string
        companyContactNumber:
          type: string
        website:
          type: string
        socialMedia:
          type: string
        accountContactNumber:
          type: string
        customerSupportContactNumber:
          type: string
        customerSupportEscalationContactNumber:
          type: string
        emergencyContactNumber:
          type: string
        streetAddress:
          type: string
        apartment:
          type: string
        suburb:
          type: string
        city:
          type: string
        postalCode:
          type: string
        country:
          type: string
        bank:
          type: string
        accountType:
          type: string
        accountName:
          type: string
        accountNumber:
          type: string
        branchCode:
          type: string
        swiftCode:
          type: string
        certificateOfIncorporation:
          type: string
        identityDocuments:
          type: string
        bankAccountConfirmationLetter:
          type: string
        proofOfBusinessAddress:
          type: string
        termsAccepted:
          type: boolean
        acceptedAt:
          format: date-time
          type: string
        currentStep:
          enum:
          - initiation
          - verification
          - business_details
          - banking_details
          - upload_documents
          - sign_agreement
          type: string
        status:
          enum:
          - pending
          - verified
          - rejected
          type: string
        isCompleted:
          type: boolean
        completionScore:
          type: number
      required:
      - createdAt
      - id
      - organizationId
      - updatedAt
      type: object
    UpdateOrganizationComplianceDto:
      example:
        companyTradingName: companyTradingName
        country: country
        certificateOfIncorporation: certificateOfIncorporation
        businessDescription: businessDescription
        city: city
        accountName: accountName
        postalCode: postalCode
        customerSupportContactNumber: customerSupportContactNumber
        companyRegistrationName: companyRegistrationName
        swiftCode: swiftCode
        industry: industry
        subIndustry: subIndustry
        customerSupportEscalationContactNumber: customerSupportEscalationContactNumber
        bank: bank
        companyEmail: companyEmail
        companyMobileMoneySettlementNumber: companyMobileMoneySettlementNumber
        identityDocuments: identityDocuments
        estimatedAnnualTurnover: estimatedAnnualTurnover
        acceptedAt: 2000-01-23T04:56:07.000+00:00
        isCompleted: true
        bankAccountConfirmationLetter: bankAccountConfirmationLetter
        website: website
        companyRegistrationNumber: companyRegistrationNumber
        emergencyContactNumber: emergencyContactNumber
        accountType: accountType
        proofOfBusinessAddress: proofOfBusinessAddress
        socialMedia: socialMedia
        accountNumber: accountNumber
        branchCode: branchCode
        currentStep: initiation
        vatRegistrationNumber: vatRegistrationNumber
        completionScore: 0.8008281904610115
        accountContactNumber: accountContactNumber
        streetAddress: streetAddress
        termsAccepted: true
        suburb: suburb
        companyContactNumber: companyContactNumber
        apartment: apartment
        status: pending
      properties:
        companyRegistrationName:
          type: string
        companyRegistrationNumber:
          type: string
        companyTradingName:
          type: string
        vatRegistrationNumber:
          type: string
        industry:
          type: string
        subIndustry:
          type: string
        estimatedAnnualTurnover:
          type: string
        businessDescription:
          type: string
        companyMobileMoneySettlementNumber:
          type: string
        companyEmail:
          type: string
        companyContactNumber:
          type: string
        website:
          type: string
        socialMedia:
          type: string
        accountContactNumber:
          type: string
        customerSupportContactNumber:
          type: string
        customerSupportEscalationContactNumber:
          type: string
        emergencyContactNumber:
          type: string
        streetAddress:
          type: string
        apartment:
          type: string
        suburb:
          type: string
        city:
          type: string
        postalCode:
          type: string
        country:
          type: string
        bank:
          type: string
        accountType:
          type: string
        accountName:
          type: string
        accountNumber:
          type: string
        branchCode:
          type: string
        swiftCode:
          type: string
        certificateOfIncorporation:
          type: string
        identityDocuments:
          type: string
        bankAccountConfirmationLetter:
          type: string
        proofOfBusinessAddress:
          type: string
        termsAccepted:
          type: boolean
        acceptedAt:
          format: date-time
          type: string
        currentStep:
          enum:
          - initiation
          - verification
          - business_details
          - banking_details
          - upload_documents
          - sign_agreement
          type: string
        status:
          enum:
          - pending
          - verified
          - rejected
          type: string
        isCompleted:
          type: boolean
        completionScore:
          type: number
      type: object
    ListOrganizationComplianceResponseDto:
      properties:
        data:
          items:
            $ref: "#/components/schemas/OrganizationComplianceResponseDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    SendEmailDto:
      example:
        template: welcome
        cc:
        - admin@cashful.africa
        bcc:
        - archive@cashful.africa
        subject: Welcome to Cashful
        context:
          name: John Doe
          activationLink: https://example.com/activate
        html: <p>Hello World</p>
        from: noreply@cashful.africa
        to: user@example.com
        text: Hello World
      properties:
        to:
          description: Recipient email address(es)
          example: user@example.com
          type: object
        subject:
          description: Email subject
          example: Welcome to Cashful
          type: string
        template:
          description: Template name to use (if using templates)
          example: welcome
          type: string
        context:
          description: Context variables for template rendering
          example:
            name: John Doe
            activationLink: https://example.com/activate
          type: object
        html:
          description: HTML content (if not using templates)
          example: <p>Hello World</p>
          type: string
        text:
          description: Plain text content
          example: Hello World
          type: string
        from:
          description: Sender email address
          example: noreply@cashful.africa
          type: string
        cc:
          description: CC email address(es)
          example:
          - admin@cashful.africa
          type: object
        bcc:
          description: BCC email address(es)
          example:
          - archive@cashful.africa
          type: object
      required:
      - subject
      - to
      type: object
    SendSmsDto:
      example:
        from: Cashful
        to: "+27123456789"
        message: "Your verification code is: 123456"
      properties:
        to:
          description: Recipient phone number(s) in international format
          example: "+27123456789"
          type: object
        message:
          description: SMS message content
          example: "Your verification code is: 123456"
          type: string
        from:
          description: Sender name or number
          example: Cashful
          type: string
      required:
      - message
      - to
      type: object
    NotificationDto:
      example:
        channel: email
        sms: ""
        email: ""
      properties:
        channel:
          description: Notification channel
          enum:
          - email
          - sms
          example: email
          type: string
        email:
          allOf:
          - $ref: "#/components/schemas/SendEmailDto"
          description: Email notification data
        sms:
          allOf:
          - $ref: "#/components/schemas/SendSmsDto"
          description: SMS notification data
      required:
      - channel
      type: object
    RequestUploadUrlDto:
      example:
        filename: filename
        relatedEntityId: relatedEntityId
        isPublic: false
        mimeType: image/png
        relatedEntityType: relatedEntityType
        tags:
        - compliance
        - identity-document
      properties:
        filename:
          description: Original filename
          type: string
        mimeType:
          description: MIME type of the file
          example: image/png
          type: string
        tags:
          description: Tags for classification
          example:
          - compliance
          - identity-document
          items:
            type: string
          type: array
        relatedEntityId:
          description: "Related entity ID (e.g., compliance info ID)"
          type: string
        relatedEntityType:
          description: Related entity type
          type: string
        isPublic:
          default: false
          description: Whether the file should be publicly accessible
          type: boolean
      required:
      - filename
      - mimeType
      type: object
    PresignedUploadResponseDto:
      example:
        uploadUrl: uploadUrl
        key: key
        expiresAt: 2000-01-23T04:56:07.000+00:00
        fileId: fileId
      properties:
        uploadUrl:
          description: Presigned upload URL
          type: string
        fileId:
          description: File ID for tracking
          type: string
        key:
          description: S3 object key
          type: string
        expiresAt:
          description: URL expiration time
          format: date-time
          type: string
      required:
      - expiresAt
      - fileId
      - key
      - uploadUrl
      type: object
    ConfirmUploadDto:
      example:
        size: 0.8008281904610115
        checksum: checksum
        fileId: fileId
      properties:
        fileId:
          description: File ID returned from upload URL request
          type: string
        checksum:
          description: File checksum for integrity verification
          type: string
        size:
          description: Actual file size in bytes
          type: number
      required:
      - fileId
      type: object
    FileDto:
      example:
        mimeType: mimeType
        relatedEntityType: relatedEntityType
        tags:
        - tags
        - tags
        bucket: bucket
        uploadedById: uploadedById
        createdAt: 2000-01-23T04:56:07.000+00:00
        deletedAt: 2000-01-23T04:56:07.000+00:00
        filename: filename
        size: 0.8008281904610115
        checksum: checksum
        relatedEntityId: relatedEntityId
        isPublic: true
        id: id
        key: key
        updatedAt: 2000-01-23T04:56:07.000+00:00
        status: pending
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
        key:
          type: string
        bucket:
          type: string
        filename:
          type: string
        mimeType:
          type: string
        size:
          type: number
        tags:
          items:
            type: string
          type: array
        status:
          enum:
          - pending
          - uploaded
          - failed
          - deleted
          type: string
        checksum:
          type: string
        isPublic:
          type: boolean
        relatedEntityId:
          type: string
        relatedEntityType:
          type: string
        uploadedById:
          type: string
      required:
      - bucket
      - createdAt
      - filename
      - id
      - isPublic
      - key
      - mimeType
      - size
      - status
      - tags
      - updatedAt
      type: object
    PresignedDownloadResponseDto:
      example:
        downloadUrl: downloadUrl
        expiresAt: 2000-01-23T04:56:07.000+00:00
      properties:
        downloadUrl:
          description: Presigned download URL
          type: string
        expiresAt:
          description: URL expiration time
          format: date-time
          type: string
      required:
      - downloadUrl
      - expiresAt
      type: object
    ListFilesResponseDto:
      example:
        pagination:
          total: 150
          offset: 0
          limit: 50
          hasMore: true
        data:
        - mimeType: mimeType
          relatedEntityType: relatedEntityType
          tags:
          - tags
          - tags
          bucket: bucket
          uploadedById: uploadedById
          createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          filename: filename
          size: 0.8008281904610115
          checksum: checksum
          relatedEntityId: relatedEntityId
          isPublic: true
          id: id
          key: key
          updatedAt: 2000-01-23T04:56:07.000+00:00
          status: pending
        - mimeType: mimeType
          relatedEntityType: relatedEntityType
          tags:
          - tags
          - tags
          bucket: bucket
          uploadedById: uploadedById
          createdAt: 2000-01-23T04:56:07.000+00:00
          deletedAt: 2000-01-23T04:56:07.000+00:00
          filename: filename
          size: 0.8008281904610115
          checksum: checksum
          relatedEntityId: relatedEntityId
          isPublic: true
          id: id
          key: key
          updatedAt: 2000-01-23T04:56:07.000+00:00
          status: pending
      properties:
        data:
          items:
            $ref: "#/components/schemas/FileDto"
          type: array
        pagination:
          $ref: "#/components/schemas/PaginationResponseDto"
      required:
      - data
      - pagination
      type: object
    BaseDto:
      properties:
        id:
          description: Unique identifier
          type: string
        createdAt:
          format: date-time
          type: string
        updatedAt:
          format: date-time
          type: string
        deletedAt:
          format: date-time
          type: string
      required:
      - createdAt
      - id
      - updatedAt
      type: object
    sendEmail_200_response:
      example:
        messageId: messageId
      properties:
        messageId:
          description: Email message ID
          type: string
      type: object
    sendSms_200_response:
      example:
        messageId: messageId
      properties:
        messageId:
          description: SMS message ID
          type: string
      type: object
    sendMultiChannelNotification_200_response:
      example:
        sms: sms
        email: email
      properties:
        email:
          description: Email message ID
          type: string
        sms:
          description: SMS message ID
          type: string
      type: object
  securitySchemes:
    bearer:
      bearerFormat: JWT
      scheme: bearer
      type: http

